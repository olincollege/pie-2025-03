<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistive Feeding Device - PIE Project</title>

    <!-- Dark mode favicon -->
    <link rel="icon" type="image/svg+xml" href="favidark.svg" media="(prefers-color-scheme: light)">

    <!-- Light mode favicon -->
    <link rel="icon" type="image/svg+xml" href="favilight.svg" media="(prefers-color-scheme: dark)">

    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <canvas class="webgl"></canvas>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-logo">MUNCHKIN.</div>
        <div class="nav-links">
            <a href="#home">Home</a>
            <a href="#overview">Overview</a>
            <a href="#process">Process</a>
            <div class="nav-dropdown">
                <a href="#technical" class="dropdown-trigger">
                    Technical
                    <svg width="12" height="12" viewBox="0 0 12 12"
                        style="margin-left: 4px; transition: transform 0.3s;">
                        <path d="M2 4 L6 8 L10 4" stroke="currentColor" fill="none" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </a>
                <div class="dropdown-menu">
                    <a href="#data-flow">Data & Energy Flow</a>
                    <a href="#electrical">Electrical</a>
                    <a href="#mechanical">Mechanical</a>
                    <a href="#software">Software</a>
                </div>
            </div>
            <a href="#contact">Contact</a>
        </div>
        <a href="#demo" class="nav-cta">View Demo</a>
    </nav>

    <!-- Section 1: Hero -->
    <section class="hero" id="home">
        <!-- Video Background - Only for Hero Section -->
        <div class="hero-video-background">
            <video id="bgVideo" muted playsinline autoplay loop>
                <source src="background.mp4" type="video/mp4">
            </video>
        </div>
        <div class="hero-badge">PIE Project 2025</div>
        <h1 class="hero-title">
            We help people<br>
            with disabilities<br>
            <span class="hero-gradient">eat independently</span><br>
            with intelligent robotics.<br>
        </h1>
        <div class="hero-stats">
            <div class="stat">
                <div class="stat-number">4-DOF</div>
                <div class="stat-label">Robotic Arm</div>
            </div>
            <div class="stat">
                <div class="stat-number">30fps</div>
                <div class="stat-label">Mouth Tracking</div>
            </div>
            <div class="stat">
                <div class="stat-number">&lt;$600</div>
                <div class="stat-label">Total Cost</div>
            </div>
            <div class="stat">
                <div class="stat-number">100%</div>
                <div class="stat-label">Accuracy</div>
            </div>
        </div>
    </section>

    <!-- Section 2: Overview -->

    <!-- Add these libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.8/plugins/animation.gsap.js"></script>

    <section class="section-overview" id="overview">
        <div class="container">
            <div class="section-header">
                <span class="section-label">About the Project</span>
                <h2 class="section-title single-line">
                    Robotic assistive feeding device
                </h2>
            </div>

            <div class="overview-grid">
                <div class="overview-left">
                    <div class="overview-text">
                        <p class="large-text">
                            Our assistive feeding device combines computer vision, robotics, and embedded systems
                            to create an affordable solution for individuals with limited upper body mobility.
                        </p>
                        <p>
                            The system uses real-time mouth tracking to position food at the optimal location,
                            giving users control over their feeding process. Built with accessibility in mind,
                            the entire system costs under $600 and can be replicated by other teams.
                        </p>
                    </div>

                    <!-- Exploded View Video -->
                    <div class="exploded-video-wrapper">
                        <video id="explosionVideo" muted playsinline preload="auto">
                            <source src="explode.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                        <div class="video-label">Scroll to explore assembly</div>
                    </div>
                </div>

                <div class="overview-features">
                    <div class="feature-card">
                        <h3>01</h3>
                        <h4>Independent Feeding</h4>
                        <p>Enable independent feeding for people with mobility impairments</p>
                    </div>
                    <div class="feature-card">
                        <h3>02</h3>
                        <h4>Real-Time Tracking</h4>
                        <p>Implement accurate real-time mouth tracking using computer vision</p>
                    </div>
                    <div class="feature-card">
                        <h3>03</h3>
                        <h4>Safe Design</h4>
                        <p>Design a safe, intuitive robotic arm with precise positioning</p>
                    </div>
                    <div class="feature-card">
                        <h3>04</h3>
                        <h4>Affordable</h4>
                        <p>Keep the total cost under $600 for accessibility</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- ADD THIS CSS TO YOUR styles.css FILE -->
    <style>
        /* Update overview grid to stack video under text on left */
        .overview-left {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .exploded-video-wrapper {
            position: relative;
            width: 100%;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(59, 130, 246, 0.05));
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 3rem 1.5rem;
            /* More top/bottom padding */
            overflow: hidden;
        }

        #explosionVideo {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 8px;
            margin: 0 auto;
            object-fit: contain;
            /* ADD THIS */
            object-position: center center;
            /* ADD THIS */
        }

        .video-label {
            text-align: center;
            margin-top: 1rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            font-style: italic;
            width: 100%;
            /* Full width for label */
        }

        @media (max-width: 768px) {
            .overview-grid {
                grid-template-columns: 1fr;
            }

            .exploded-video-wrapper {
                margin-bottom: 2rem;
            }
        }
    </style>

    <!-- ADD THIS JAVASCRIPT AT THE BOTTOM OF YOUR HTML (before closing </body> tag) -->

    <!-- Then add this script -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const video = document.getElementById('explosionVideo');
            const videoWrapper = document.querySelector('.exploded-video-wrapper');

            if (!video || !videoWrapper) return;

            video.pause();
            video.currentTime = 0;

            // Initialize ScrollMagic Controller
            const controller = new ScrollMagic.Controller();

            // Get video duration once loaded
            video.addEventListener('loadedmetadata', () => {
                const videoDuration = video.duration;

                // Create ScrollMagic Scene
                new ScrollMagic.Scene({
                    triggerElement: videoWrapper,
                    triggerHook: 1, // Start when video enters bottom of viewport
                    duration: videoWrapper.offsetHeight * 0.1 + window.innerHeight // Duration of scroll effect
                })
                    .on("progress", function (event) {
                        // Update video frame based on scroll progress
                        video.currentTime = videoDuration * event.progress;
                    })
                    .addTo(controller);
            });
        });
    </script>

    <!-- Section 3: Demo -->
    <section class="section-demo" id="demo">
        <div class="container">
            <div class="section-header">
                <span class="section-label">System Demo</span>
                <h2 class="section-title">Watch it in action</h2>
            </div>

            <div class="demo-media">
                <div class="video-wrapper">
                    <video id="pieSystemDemoVideo" class="demo-video" loop muted playsinline
                        style="display: block !important; opacity: 1 !important; visibility: visible !important;">
                        <source src="demo.mp4" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    <div class="video-hover-overlay">
                        <button class="pause-play-btn" id="pausePlayBtn">
                            <svg class="pause-icon" width="60" height="60" viewBox="0 0 100 100" fill="none">
                                <circle cx="50" cy="50" r="40" stroke="white" stroke-width="3" fill="rgba(0,0,0,0.6)" />
                                <rect x="35" y="30" width="10" height="40" fill="white" />
                                <rect x="55" y="30" width="10" height="40" fill="white" />
                            </svg>
                            <svg class="play-icon" width="60" height="60" viewBox="0 0 100 100" fill="none"
                                style="display: none;">
                                <circle cx="50" cy="50" r="40" stroke="white" stroke-width="3" fill="rgba(0,0,0,0.6)" />
                                <path d="M40 30 L40 70 L70 50 Z" fill="white" />
                            </svg>
                        </button>
                    </div>
                    <div class="video-controls">
                        <button class="restart-btn" id="restartBtn" title="Restart video">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <polyline points="1 4 1 10 7 10"></polyline>
                                <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                            </svg>
                        </button>
                        <div class="progress-bar-container" id="progressBarContainer">
                            <div class="progress-bar" id="progressBar"></div>
                            <div class="progress-handle" id="progressHandle"></div>
                        </div>
                        <span class="time-display" id="timeDisplay">0:00 / 0:00</span>
                    </div>
                </div>
            </div>

            <div class="demo-specs">
                <div class="spec-item">
                    <h4>Tracking Accuracy</h4>
                    <p>Within 2cm at 30fps real-time processing</p>
                </div>
                <div class="spec-item">
                    <h4>Response Time</h4>
                    <p>Delivers food in approximately 6-7 seconds</p>
                </div>
                <div class="spec-item">
                    <h4>Safety Features</h4>
                    <p>Dual E-stops, motion limits, emergency pause</p>
                </div>
                <div class="spec-item">
                    <h4>Degrees of Freedom</h4>
                    <p>4 DOF with smooth servo control</p>
                </div>
            </div>
        </div>
    </section>

    <style>
        /* Demo Video */
        .demo-media {
            margin: 2rem 0;
            max-width: 750px;
            margin-left: auto;
            margin-right: auto;
        }

        .video-wrapper {
            position: relative;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(139, 92, 246, 0.3);
        }

        .demo-video {
            width: 100%;
            height: auto;
            display: block;
        }

        .video-hover-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .video-wrapper:hover .video-hover-overlay {
            opacity: 1;
            pointer-events: auto;
        }

        .pause-play-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            transition: transform 0.2s ease;
        }

        .pause-play-btn:hover {
            transform: scale(1.1);
        }

        .pause-play-btn svg {
            display: block;
        }

        /* Video Controls Bar */
        .video-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-wrapper:hover .video-controls {
            opacity: 1;
        }

        .restart-btn {
            background: rgba(139, 92, 246, 0.2);
            border: 1px solid rgba(139, 92, 246, 0.5);
            border-radius: 6px;
            padding: 0.5rem;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .restart-btn:hover {
            background: rgba(139, 92, 246, 0.4);
            border-color: rgba(139, 92, 246, 0.8);
            transform: scale(1.1);
        }

        .progress-bar-container {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: rgba(139, 92, 246, 0.9);
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s linear;
        }

        .progress-handle {
            position: absolute;
            top: 50%;
            left: 0%;
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .progress-bar-container:hover .progress-handle {
            opacity: 1;
        }

        .time-display {
            color: white;
            font-size: 0.85rem;
            font-family: monospace;
            white-space: nowrap;
            min-width: 90px;
        }

        /* Demo Specs Grid */
        .demo-specs {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 2rem;
            margin-top: 3rem;
        }

        .spec-item {
            text-align: center;
            padding: 1.5rem;

            /* UPDATE THIS LINE */
            background: #0a0a0a;
            /* OR use a very dark semi-transparent black */
            /* background: rgba(10, 10, 10, 0.9); */

            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;

            /* Optional: Adds a blur effect to the background video behind the box */
            backdrop-filter: blur(10px);
        }

        .spec-item:hover {
            /* Make the background slightly lighter on hover, but still solid */
            background: #1a1a1a;

            border-color: rgba(139, 92, 246, 0.4);
            transform: translateY(-5px);
        }

        .spec-item h4 {
            color: rgba(139, 92, 246, 1);
            font-size: 1.1rem;
            margin: 0 0 0.5rem 0;
        }

        .spec-item p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            margin: 0;
            line-height: 1.5;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .demo-specs {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .demo-specs {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .spec-item {
                padding: 1rem;
            }
        }
    </style>

    <script>
        // Modern Intersection Observer approach with custom controls
        (function () {
            var video = document.getElementById('pieSystemDemoVideo');
            var pausePlayBtn = document.getElementById('pausePlayBtn');
            var pauseIcon = document.querySelector('.pause-icon');
            var playIcon = document.querySelector('.play-icon');
            var restartBtn = document.getElementById('restartBtn');
            var progressBarContainer = document.getElementById('progressBarContainer');
            var progressBar = document.getElementById('progressBar');
            var progressHandle = document.getElementById('progressHandle');
            var timeDisplay = document.getElementById('timeDisplay');
            var userPaused = false;
            var isDragging = false;

            if (!video) {
                console.error('‚ùå Video element not found!');
                return;
            }

            console.log('‚úÖ Video element found');

            function updateButtonIcon() {
                if (video.paused) {
                    pauseIcon.style.display = 'none';
                    playIcon.style.display = 'block';
                } else {
                    pauseIcon.style.display = 'block';
                    playIcon.style.display = 'none';
                }
            }

            function formatTime(seconds) {
                var mins = Math.floor(seconds / 60);
                var secs = Math.floor(seconds % 60);
                return mins + ':' + (secs < 10 ? '0' : '') + secs;
            }

            function updateProgress() {
                if (!isDragging && video.duration) {
                    var percent = (video.currentTime / video.duration) * 100;
                    progressBar.style.width = percent + '%';
                    progressHandle.style.left = percent + '%';
                    timeDisplay.textContent = formatTime(video.currentTime) + ' / ' + formatTime(video.duration);
                }
            }

            function setProgress(e) {
                var rect = progressBarContainer.getBoundingClientRect();
                var pos = (e.clientX - rect.left) / rect.width;
                pos = Math.max(0, Math.min(1, pos)); // Clamp between 0 and 1
                video.currentTime = pos * video.duration;
                updateProgress();
            }

            // Restart button
            restartBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                console.log('üîÑ Restarting video');
                video.currentTime = 0;
                video.play();
                userPaused = false;
                updateButtonIcon();
            });

            // Progress bar click
            progressBarContainer.addEventListener('click', function (e) {
                setProgress(e);
            });

            // Progress bar drag
            progressBarContainer.addEventListener('mousedown', function (e) {
                isDragging = true;
                setProgress(e);
            });

            document.addEventListener('mousemove', function (e) {
                if (isDragging) {
                    setProgress(e);
                }
            });

            document.addEventListener('mouseup', function () {
                isDragging = false;
            });

            // Update progress as video plays
            video.addEventListener('timeupdate', updateProgress);

            // Intersection Observer for autoplay
            var observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.5
            };

            var observer = new IntersectionObserver(function (entries) {
                entries.forEach(function (entry) {
                    console.log('Intersection changed - isIntersecting:', entry.isIntersecting);

                    if (entry.isIntersecting) {
                        // Video is visible
                        if (!userPaused) {
                            console.log('‚ñ∂Ô∏è Auto-playing (visible)');
                            video.play().then(function () {
                                console.log('‚úÖ Playing successfully');
                                updateButtonIcon();
                            }).catch(function (err) {
                                console.error('‚ö†Ô∏è Autoplay blocked:', err);
                                console.log('üí° Click the play button to start');
                                updateButtonIcon();
                            });
                        }
                    } else {
                        // Video is not visible
                        console.log('‚è∏Ô∏è Pausing (not visible)');
                        video.pause();
                        userPaused = false; // Reset when out of view
                        updateButtonIcon();
                    }
                });
            }, observerOptions);

            observer.observe(video);

            // Button click handler
            pausePlayBtn.addEventListener('click', function (e) {
                e.stopPropagation();
                if (video.paused) {
                    console.log('üëÜ User clicked play');
                    video.play();
                    userPaused = false;
                } else {
                    console.log('üëÜ User clicked pause');
                    video.pause();
                    userPaused = true;
                }
                updateButtonIcon();
            });

            // Update icon on video state changes
            video.addEventListener('play', function () {
                console.log('üé¨ Video playing');
                updateButtonIcon();
            });

            video.addEventListener('pause', function () {
                console.log('‚è∏Ô∏è Video paused');
                updateButtonIcon();
            });

            video.addEventListener('loadeddata', function () {
                console.log('‚úÖ Video loaded');
                updateButtonIcon();
                updateProgress();
            });

            video.addEventListener('loadedmetadata', function () {
                updateProgress();
            });

            video.addEventListener('error', function (e) {
                console.error('‚ùå Video error:', e);
            });

            // Initial icon state
            updateButtonIcon();
        })();
    </script>

    <!-- Section 4: Design Process -->
    <section class="section-process" id="process">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Our Process</span>
                <h2 class="section-title single-line">Design decisions and trade-offs</h2>
            </div>

            <div class="process-intro">
                <p class="large-text">
                    We explored several design approaches before landing on our final solution.
                    Our initial concepts included a stationary arm with rotating base, a gantry-style system,
                    and a jointed arm similar to industrial robots.
                </p>
            </div>
            <div class="decisions-grid">
                <div class="decision-card">
                    <div class="decision-content">
                        <div class="decision-number">01</div>
                        <h3>Robotic Arm Configuration</h3>
                        <div class="decision-details">
                            <div class="detail-item">
                                <strong>OPTIONS</strong>
                                <p>4-DOF articulated arm, 4-DOF SCARA-style, 2-DOF pan-tilt mechanism</p>
                            </div>
                            <div class="detail-item">
                                <strong>OUR CHOICE</strong>
                                <p>4-DOF articulated arm with base rotation, shoulder, elbow, and wrist joints</p>
                            </div>
                            <div class="detail-item">
                                <strong>RATIONALE</strong>
                                <p>We chose the 4-DOF articulated configuration for maximum workspace flexibility and
                                    natural motion. The additional wrist joint (vs. 3-DOF) allows proper utensil
                                    orientation regardless of approach angle, critical for smooth feeding. While more
                                    complex than simpler designs, the improved dexterity justified the added servos and
                                    control complexity.</p>
                            </div>
                        </div>
                    </div>

                    <div class="decision-showcase">
                        <div class="showcase-content" id="ikDemo">
                            <canvas id="ikCanvas" width="700" height="400"
                                style="width: 100%; background: rgba(0,0,0,0.3); border-radius: 8px; cursor: crosshair; display: block;"></canvas>

                            <div class="ik-info"
                                style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-top: 1rem;">
                                <div
                                    style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 6px; text-align: center;">
                                    <div
                                        style="color: rgba(255,255,255,0.6); font-size: 0.75rem; margin-bottom: 0.25rem;">
                                        Base</div>
                                    <div style="color: rgba(139, 92, 246, 1); font-size: 1rem; font-weight: 600;"
                                        id="baseAngle">0¬∞</div>
                                </div>
                                <div
                                    style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 6px; text-align: center;">
                                    <div
                                        style="color: rgba(255,255,255,0.6); font-size: 0.75rem; margin-bottom: 0.25rem;">
                                        Shoulder</div>
                                    <div style="color: rgba(139, 92, 246, 1); font-size: 1rem; font-weight: 600;"
                                        id="shoulderAngle">0¬∞</div>
                                </div>
                                <div
                                    style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 6px; text-align: center;">
                                    <div
                                        style="color: rgba(255,255,255,0.6); font-size: 0.75rem; margin-bottom: 0.25rem;">
                                        Elbow</div>
                                    <div style="color: rgba(139, 92, 246, 1); font-size: 1rem; font-weight: 600;"
                                        id="elbowAngle">0¬∞</div>
                                </div>
                                <div
                                    style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 6px; text-align: center;">
                                    <div
                                        style="color: rgba(255,255,255,0.6); font-size: 0.75rem; margin-bottom: 0.25rem;">
                                        Error</div>
                                    <div style="color: rgba(139, 92, 246, 1); font-size: 1rem; font-weight: 600;"
                                        id="distance">0px</div>
                                </div>
                            </div>

                            <p
                                style="margin-top: 1rem; color: rgba(255,255,255,0.6); font-size: 0.85rem; text-align: center;">
                                Interactive inverse kinematics using algorithm ‚Ä¢ Move your mouse to control the
                                arm</p>
                        </div>
                    </div>
                </div>

                <div class="decision-card">
                    <div class="decision-content">
                        <div class="decision-number">02</div>
                        <h3>Mouth Tracking Approach</h3>
                        <div class="decision-details">
                            <div class="detail-item">
                                <strong>OPTIONS</strong>
                                <p>MediaPipe Face Mesh, OpenCV Haar Cascades, custom CNN model, depth camera only</p>
                            </div>
                            <div class="detail-item">
                                <strong>OUR CHOICE</strong>
                                <p>MediaPipe Face Mesh with RealSense depth camera</p>
                            </div>
                            <div class="detail-item">
                                <strong>RATIONALE</strong>
                                <p>MediaPipe provides 468 facial landmarks at 30fps with excellent accuracy on Raspberry
                                    Pi
                                    4. Combines well with RealSense depth data for precise 3D positioning. Pre-trained
                                    models eliminated weeks of custom ML training, and open-source implementation made
                                    debugging straightforward. Haar Cascades were too inaccurate, and custom CNNs would
                                    require extensive datasets we didn't have.</p>
                            </div>
                        </div>
                    </div>

                    <div class="decision-showcase">
                        <div class="showcase-content live-demo" id="mediapipeDemo">
                            <div class="demo-placeholder">
                                <div class="demo-icon">üìπ</div>
                                <p>See mouth tracking in action</p>
                                <p class="demo-hint">Tip: Select "Always allow" for best experience</p>
                                <button class="demo-button" id="startDemoBtn">Try It Out</button>
                            </div>
                            <div class="demo-video-container">
                                <video id="demoVideo" class="demo-video" autoplay playsinline></video>
                                <canvas id="demoCanvas" class="demo-canvas"></canvas>
                            </div>
                            <button class="demo-stop" id="stopDemoBtn">Stop Demo</button>
                        </div>
                    </div>
                </div>

                <div class="decision-card">
                    <div class="decision-content">
                        <div class="decision-number">03</div>
                        <h3>Computing Platform</h3>
                        <div class="decision-details">
                            <div class="detail-item">
                                <strong>OPTIONS</strong>
                                <p>Raspberry Pi, Arduino + OpenCV on laptop, Jetson Nano, microcontroller with cloud
                                    processing</p>
                            </div>
                            <div class="detail-item">
                                <strong>OUR CHOICE</strong>
                                <p>Raspberry Pi 4B (4GB RAM)</p>
                            </div>
                            <div class="detail-item">
                                <strong>RATIONALE</strong>
                                <p>Raspberry Pi 4 offers the perfect balance of compute power and cost ($62 vs. $200+
                                    for
                                    Jetson). Quad-core ARM processor handles MediaPipe at 30fps while managing servo
                                    control
                                    and safety monitoring. Built-in USB 3.0 for camera, GPIO for safety buttons, and
                                    strong
                                    community support made development smooth. Arduino lacked ML capability, and cloud
                                    processing introduced unacceptable latency for safety-critical feeding motions.</p>
                            </div>
                        </div>
                    </div>

                    <div class="decision-showcase">
                        <div class="showcase-content" id="reactionGame">
                            <div class="game-area" id="gameArea">
                                <div id="gameContent">
                                    <div class="demo-icon">‚ö°</div>
                                    <p>Test your reaction time vs Raspberry Pi 4</p>
                                    <p class="demo-hint">Click when the screen turns green!</p>
                                    <button class="demo-button" id="startGameBtn">Start Challenge</button>
                                </div>
                            </div>
                            <div class="game-results" id="gameResults" style="display: none;">
                                <div class="result-item">
                                    <span class="result-label">You</span>
                                    <span class="result-value" id="yourTime">---</span>
                                </div>
                                <div class="result-item">
                                    <span class="result-label">Pi 4</span>
                                    <span class="result-value pi">45ms</span>
                                </div>
                            </div>
                            <p class="game-message" id="gameMessage"></p>
                        </div>
                    </div>
                </div>
            </div>
            <script>
                (function () {
                    const canvas = document.getElementById('ikCanvas');
                    if (!canvas) return;

                    const ctx = canvas.getContext('2d');

                    // Arm segment lengths
                    const segments = [
                        { length: 80 },  // 8 units
                        { length: 80 },  // 8 units
                        { length: 60 }   // 6 units
                    ];

                    // Base position (center bottom)
                    const baseX = canvas.width / 2;
                    const baseY = canvas.height - 50;

                    // Joint angles (this is how CCD works - track angles, not positions)
                    let angles = [0, -Math.PI / 2, 0]; // Start pointing up

                    // Target position
                    let targetX = baseX;
                    let targetY = baseY - 220;
                    let mouseHasMoved = false;

                    // Calculate joint positions from angles
                    function getJointPositions() {
                        const joints = [{ x: baseX, y: baseY }];

                        let currentAngle = 0;
                        let currentX = baseX;
                        let currentY = baseY;

                        for (let i = 0; i < segments.length; i++) {
                            currentAngle += angles[i];
                            currentX += Math.cos(currentAngle) * segments[i].length;
                            currentY += Math.sin(currentAngle) * segments[i].length;
                            joints.push({ x: currentX, y: currentY });
                        }

                        return joints;
                    }

                    // CCD Algorithm - naturally avoids self-collision
                    function solveCCD(target, iterations = 10) {
                        for (let iter = 0; iter < iterations; iter++) {
                            let joints = getJointPositions();

                            // Work backwards from end effector
                            for (let i = segments.length - 1; i >= 0; i--) {
                                joints = getJointPositions();

                                const endEffector = joints[joints.length - 1];
                                const joint = joints[i];

                                // Vector from joint to end effector
                                const toEnd = {
                                    x: endEffector.x - joint.x,
                                    y: endEffector.y - joint.y
                                };

                                // Vector from joint to target
                                const toTarget = {
                                    x: target.x - joint.x,
                                    y: target.y - joint.y
                                };

                                // Calculate angle between these vectors
                                const angleToEnd = Math.atan2(toEnd.y, toEnd.x);
                                const angleToTarget = Math.atan2(toTarget.y, toTarget.x);

                                // Rotate this joint to point toward target
                                let deltaAngle = angleToTarget - angleToEnd;

                                // Normalize to -PI to PI
                                while (deltaAngle > Math.PI) deltaAngle -= 2 * Math.PI;
                                while (deltaAngle < -Math.PI) deltaAngle += 2 * Math.PI;

                                // Apply rotation with damping for smoothness
                                angles[i] += deltaAngle * 0.5;

                                // Constrain each joint angle to prevent unrealistic poses
                                // Joint 0 (base): can rotate freely
                                // Joint 1 (shoulder): -170¬∞ to +170¬∞
                                // Joint 2 (elbow): -170¬∞ to +170¬∞
                                if (i === 1 || i === 2) {
                                    const maxAngle = Math.PI * 0.94; // 170 degrees
                                    if (angles[i] > maxAngle) angles[i] = maxAngle;
                                    if (angles[i] < -maxAngle) angles[i] = -maxAngle;
                                }
                            }

                            // Check if close enough
                            joints = getJointPositions();
                            const endEffector = joints[joints.length - 1];
                            const dist = Math.sqrt(
                                Math.pow(endEffector.x - target.x, 2) +
                                Math.pow(endEffector.y - target.y, 2)
                            );

                            if (dist < 1) break;
                        }
                    }

                    function distance(p1, p2) {
                        const dx = p2.x - p1.x;
                        const dy = p2.y - p1.y;
                        return Math.sqrt(dx * dx + dy * dy);
                    }

                    function calculateDisplayAngles() {
                        const joints = getJointPositions();
                        const displayAngles = [];

                        displayAngles.push(Math.atan2(joints[1].x - joints[0].x, -(joints[1].y - joints[0].y)) * 180 / Math.PI);
                        displayAngles.push(Math.atan2(joints[2].y - joints[1].y, joints[2].x - joints[1].x) * 180 / Math.PI);
                        displayAngles.push(Math.atan2(joints[3].y - joints[2].y, joints[3].x - joints[2].x) * 180 / Math.PI);

                        return displayAngles;
                    }

                    function drawArm() {
                        const joints = getJointPositions();

                        ctx.clearRect(0, 0, canvas.width, canvas.height);

                        // Grid
                        ctx.strokeStyle = 'rgba(139, 92, 246, 0.1)';
                        ctx.lineWidth = 1;
                        for (let i = 0; i < canvas.width; i += 50) {
                            ctx.beginPath();
                            ctx.moveTo(i, 0);
                            ctx.lineTo(i, canvas.height);
                            ctx.stroke();
                        }
                        for (let i = 0; i < canvas.height; i += 50) {
                            ctx.beginPath();
                            ctx.moveTo(0, i);
                            ctx.lineTo(canvas.width, i);
                            ctx.stroke();
                        }

                        // Workspace circle
                        const maxReach = segments.reduce((sum, seg) => sum + seg.length, 0);
                        ctx.strokeStyle = 'rgba(139, 92, 246, 0.2)';
                        ctx.lineWidth = 2;
                        ctx.beginPath();
                        ctx.arc(baseX, baseY, maxReach, 0, Math.PI * 2);
                        ctx.stroke();

                        // Base
                        ctx.fillStyle = 'rgba(139, 92, 246, 0.6)';
                        ctx.fillRect(baseX - 30, baseY - 10, 60, 20);
                        ctx.beginPath();
                        ctx.arc(baseX, baseY, 15, 0, Math.PI * 2);
                        ctx.fill();

                        // Arm segments
                        const colors = ['rgba(139, 92, 246, 0.7)', 'rgba(139, 92, 246, 0.85)', 'rgba(139, 92, 246, 1)'];
                        ctx.lineCap = 'round';

                        for (let i = 0; i < segments.length; i++) {
                            ctx.strokeStyle = colors[i];
                            ctx.lineWidth = 12 - i * 2;
                            ctx.beginPath();
                            ctx.moveTo(joints[i].x, joints[i].y);
                            ctx.lineTo(joints[i + 1].x, joints[i + 1].y);
                            ctx.stroke();
                        }

                        // Joints
                        ctx.lineWidth = 3;
                        for (let i = 0; i < joints.length; i++) {
                            ctx.beginPath();
                            ctx.arc(joints[i].x, joints[i].y, i === joints.length - 1 ? 10 : 8, 0, Math.PI * 2);
                            if (i === joints.length - 1) {
                                ctx.fillStyle = 'rgba(251, 191, 36, 1)';
                                ctx.strokeStyle = 'rgba(251, 191, 36, 1)';
                            } else {
                                ctx.fillStyle = 'white';
                                ctx.strokeStyle = 'rgba(139, 92, 246, 1)';
                            }
                            ctx.fill();
                            ctx.stroke();
                        }

                        // Target crosshair
                        if (mouseHasMoved) {
                            ctx.strokeStyle = 'rgba(251, 191, 36, 0.5)';
                            ctx.lineWidth = 2;
                            ctx.beginPath();
                            ctx.moveTo(targetX - 10, targetY);
                            ctx.lineTo(targetX + 10, targetY);
                            ctx.moveTo(targetX, targetY - 10);
                            ctx.lineTo(targetX, targetY + 10);
                            ctx.stroke();
                        }

                        // Update info
                        const displayAngles = calculateDisplayAngles();
                        const baseAngleEl = document.getElementById('baseAngle');
                        const shoulderAngleEl = document.getElementById('shoulderAngle');
                        const elbowAngleEl = document.getElementById('elbowAngle');
                        const distanceEl = document.getElementById('distance');

                        if (baseAngleEl) baseAngleEl.textContent = displayAngles[0].toFixed(1) + '¬∞';
                        if (shoulderAngleEl) shoulderAngleEl.textContent = displayAngles[1].toFixed(1) + '¬∞';
                        if (elbowAngleEl) elbowAngleEl.textContent = displayAngles[2].toFixed(1) + '¬∞';

                        const dist = distance(joints[joints.length - 1], { x: targetX, y: targetY });
                        if (distanceEl) distanceEl.textContent = dist.toFixed(1) + 'px';
                    }

                    canvas.addEventListener('mousemove', (e) => {
                        mouseHasMoved = true;
                        const rect = canvas.getBoundingClientRect();
                        const scaleX = canvas.width / rect.width;
                        const scaleY = canvas.height / rect.height;
                        targetX = (e.clientX - rect.left) * scaleX;
                        targetY = (e.clientY - rect.top) * scaleY;
                    });

                    function animate() {
                        solveCCD({ x: targetX, y: targetY });
                        drawArm();
                        requestAnimationFrame(animate);
                    }

                    animate();
                })();
            </script>

            <style>
                .game-area {
                    background: rgba(0, 0, 0, 0.3);
                    border-radius: 8px;
                    padding: 3rem 2rem;
                    text-align: center;
                    min-height: 300px;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    user-select: none;
                    transition: all 0.3s ease;
                }

                .game-area.waiting {
                    background: rgba(239, 68, 68, 0.15);
                    border: 2px solid rgba(239, 68, 68, 0.4);
                }

                .game-area.ready {
                    background: rgba(34, 197, 94, 0.15);
                    border: 2px solid rgba(34, 197, 94, 0.4);
                }

                .game-area .demo-icon {
                    font-size: 3rem;
                    margin-bottom: 1rem;
                }

                .game-area p {
                    color: rgba(255, 255, 255, 0.9);
                    margin: 0.5rem 0;
                }

                .game-area .demo-hint {
                    color: rgba(255, 255, 255, 0.6);
                    font-size: 0.9rem;
                }

                .game-countdown {
                    font-size: 5rem;
                    font-weight: 700;
                    color: rgba(139, 92, 246, 1);
                    margin: 1rem 0;
                }

                .game-results {
                    display: grid;
                    grid-template-columns: 1fr 1fr;
                    gap: 1rem;
                    margin-top: 1rem;
                    padding: 1rem;
                    background: rgba(255, 255, 255, 0.03);
                    border-radius: 8px;
                }

                .result-item {
                    text-align: center;
                    padding: 1rem;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 6px;
                }

                .result-label {
                    display: block;
                    font-size: 0.75rem;
                    color: rgba(255, 255, 255, 0.6);
                    margin-bottom: 0.5rem;
                    text-transform: uppercase;
                }

                .result-value {
                    display: block;
                    font-size: 2rem;
                    font-weight: 700;
                    color: rgba(59, 130, 246, 1);
                }

                .result-value.pi {
                    color: rgba(139, 92, 246, 1);
                }

                .game-message {
                    margin-top: 1rem;
                    padding: 1rem;
                    background: rgba(139, 92, 246, 0.1);
                    border-radius: 6px;
                    color: rgba(255, 255, 255, 0.8);
                    font-size: 0.9rem;
                    line-height: 1.6;
                    text-align: center;
                }
            </style>

            <script>
                (function () {
                    const gameArea = document.getElementById('gameArea');
                    const gameContent = document.getElementById('gameContent');
                    const startBtn = document.getElementById('startGameBtn');
                    const gameResults = document.getElementById('gameResults');
                    const gameMessage = document.getElementById('gameMessage');

                    if (!gameArea) return;

                    let gameState = 'idle';
                    let startTime = 0;
                    let timeoutId = null;

                    const PI_LATENCY = 45;

                    function attachStartListener() {
                        const btn = document.getElementById('startGameBtn');
                        if (btn) {
                            btn.addEventListener('click', startGame);
                        }
                    }

                    attachStartListener();

                    function startGame() {
                        gameState = 'waiting';
                        gameArea.classList.remove('ready');
                        gameArea.classList.add('waiting');
                        gameResults.style.display = 'none';
                        gameMessage.textContent = '';

                        gameContent.innerHTML = `
            <div class="demo-icon">‚è±Ô∏è</div>
            <p style="font-size: 1.5rem; font-weight: 600;">Wait for it...</p>
            <p class="demo-hint">Click when it turns green!</p>
        `;

                        const delay = 1000 + Math.random() * 3000;

                        timeoutId = setTimeout(() => {
                            showGo();
                        }, delay);
                    }

                    function showGo() {
                        gameState = 'ready';
                        gameArea.classList.remove('waiting');
                        gameArea.classList.add('ready');
                        gameContent.innerHTML = `
            <div class="game-countdown">GO!</div>
            <p style="font-size: 1.3rem; font-weight: 600;">CLICK NOW!</p>
        `;
                        startTime = Date.now();
                    }

                    gameArea.addEventListener('click', (e) => {
                        if (e.target.classList.contains('demo-button') || e.target.closest('.demo-button')) return;

                        if (gameState === 'ready') {
                            const reactionTime = Date.now() - startTime;
                            showResults(reactionTime);
                        } else if (gameState === 'waiting') {
                            clearTimeout(timeoutId);
                            gameState = 'idle';
                            gameArea.classList.remove('waiting', 'ready');
                            gameContent.innerHTML = `
                <div class="game-countdown" style="color: rgba(239, 68, 68, 1); font-size: 3rem;">TOO EARLY!</div>
                <p style="color: rgba(255,255,255,0.8);">Wait for the green screen</p>
                <button class="demo-button" id="startGameBtn">Try Again</button>
            `;
                            attachStartListener();
                        }
                    });

                    function showResults(yourTime) {
                        gameState = 'complete';
                        gameArea.classList.remove('ready', 'waiting');

                        const faster = yourTime < PI_LATENCY;
                        const ratio = (yourTime / PI_LATENCY).toFixed(1);

                        gameContent.innerHTML = `
            <div class="game-countdown" style="font-size: 3rem;">${yourTime}ms</div>
            <p style="font-size: 1.2rem; font-weight: 600;">${faster ? 'üéâ Impressive!' : 'Good try!'}</p>
            <button class="demo-button" id="startGameBtn">Play Again</button>
        `;

                        attachStartListener();

                        gameResults.style.display = 'grid';
                        document.getElementById('yourTime').textContent = yourTime + 'ms';

                        let message;
                        if (faster) {
                            message = `Amazing! You beat the Pi by ${PI_LATENCY - yourTime}ms. However, the Pi maintains ${PI_LATENCY}ms response time consistently 24/7 without fatigue‚Äîcritical for reliable feeding assistance.`;
                        } else if (yourTime < 100) {
                            message = `Great reflexes! You're only ${yourTime - PI_LATENCY}ms slower. The Pi's consistent ${PI_LATENCY}ms latency makes it perfect for real-time, safety-critical feeding motions.`;
                        } else if (yourTime < 200) {
                            message = `You're ${ratio}x slower than the Pi's ${PI_LATENCY}ms processing time. This speed is why the Pi can track mouth movements in real-time without any noticeable lag.`;
                        } else {
                            message = `You're ${ratio}x slower than the Pi! Average human reaction is 200-300ms. The Pi's ${PI_LATENCY}ms latency ensures smooth, responsive feeding every single time.`;
                        }

                        gameMessage.textContent = message;
                    }
                })();
            </script>

            <!-- System Architecture Diagram -->
            <div class="diagram-section">
                <h3>System Architecture</h3>
                <div class="interactive-diagram-wrapper">
                    <svg viewBox="0 0 1400 630" class="system-diagram" id="systemDiagram">
                        <!-- Background -->
                        <rect width="1400" height="630" fill="#0a0a0a" />

                        <!-- Title -->
                        <text x="700" y="30" text-anchor="middle" fill="#fff" font-size="15" font-weight="bold">
                            Hover over components for detailed specifications
                        </text>

                        <!-- INPUT SECTION -->
                        <g class="section-group">
                            <rect x="30" y="60" width="380" height="540" rx="12" fill="rgba(59, 130, 246, 0.08)"
                                stroke="rgba(59, 130, 246, 0.4)" stroke-width="2" />
                            <text x="220" y="85" text-anchor="middle" fill="rgba(59, 130, 246, 1)" font-size="16"
                                font-weight="bold">INPUT</text>
                        </g>

                        <!-- Intel RealSense Camera -->
                        <g class="component" data-component="realsense">
                            <rect x="60" y="105" width="320" height="85" rx="8" fill="rgba(30, 64, 175, 0.3)"
                                stroke="rgba(59, 130, 246, 0.6)" stroke-width="2" />
                            <text x="220" y="133" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">Intel RealSense Depth Camera</text>
                            <text x="220" y="153" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">RGB-D
                                Video Stream</text>
                            <text x="220" y="172" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="11">USB
                                3.0</text>
                        </g>

                        <!-- E-Stop Primary -->
                        <g class="component" data-component="estop-primary">
                            <rect x="60" y="205" width="320" height="65" rx="8" fill="rgba(127, 29, 29, 0.4)"
                                stroke="rgba(239, 68, 68, 0.6)" stroke-width="2" />
                            <text x="220" y="231" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">E-Stop (Primary)</text>
                            <text x="220" y="251" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="12">Hard-Wired to GPIO</text>
                        </g>

                        <!-- E-Stop Shoulder Mount -->
                        <g class="component" data-component="estop-shoulder">
                            <rect x="60" y="285" width="320" height="65" rx="8" fill="rgba(127, 29, 29, 0.4)"
                                stroke="rgba(239, 68, 68, 0.6)" stroke-width="2" />
                            <text x="220" y="311" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">E-Stop (Shoulder Mount)</text>
                            <text x="220" y="331" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="12">Pluggable - GPIO</text>
                        </g>

                        <!-- Power Supply 5V -->
                        <g class="component" data-component="power-5v">
                            <rect x="60" y="365" width="150" height="75" rx="8" fill="rgba(20, 83, 45, 0.4)"
                                stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                            <text x="135" y="391" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">Power Supply</text>
                            <text x="135" y="411" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">5V
                                5A</text>
                            <text x="135" y="428" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="11">Pi
                                Power</text>
                        </g>

                        <!-- Power Supply 9V -->
                        <g class="component" data-component="power-9v">
                            <rect x="230" y="365" width="150" height="75" rx="8" fill="rgba(20, 83, 45, 0.4)"
                                stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                            <text x="305" y="391" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">Power Supply</text>
                            <text x="305" y="411" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="13">9V
                                3A</text>
                            <text x="305" y="428" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="11">Servo
                                Power</text>
                        </g>

                        <!-- Power Switch -->
                        <g class="component" data-component="power-switch">
                            <rect x="60" y="455" width="320" height="65" rx="8" fill="rgba(88, 28, 135, 0.3)"
                                stroke="rgba(139, 92, 246, 0.6)" stroke-width="2" />
                            <text x="220" y="481" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">Power Switch</text>
                            <text x="220" y="501" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Controls BusLinker Power (Servo Control)</text>
                        </g>

                        <!-- PROCESSING SECTION -->
                        <g class="section-group">
                            <rect x="440" y="60" width="520" height="540" rx="12" fill="rgba(139, 92, 246, 0.08)"
                                stroke="rgba(139, 92, 246, 0.4)" stroke-width="2" />
                            <text x="700" y="85" text-anchor="middle" fill="rgba(139, 92, 246, 1)" font-size="16"
                                font-weight="bold">PROCESSING</text>
                        </g>

                        <!-- Raspberry Pi 4 Model B -->
                        <g class="component" data-component="raspberry-pi">
                            <rect x="470" y="105" width="460" height="60" rx="8" fill="rgba(88, 28, 135, 0.4)"
                                stroke="rgba(139, 92, 246, 0.7)" stroke-width="3" />
                            <text x="700" y="128" text-anchor="middle" fill="#fff" font-size="16"
                                font-weight="bold">Raspberry Pi 4 Model B</text>
                            <text x="700" y="148" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="12">Main
                                Processing Unit</text>
                        </g>

                        <!-- MediaPipe -->
                        <g class="component" data-component="mediapipe">
                            <rect x="480" y="180" width="210" height="90" rx="8" fill="rgba(88, 28, 135, 0.3)"
                                stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                            <text x="585" y="205" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">MediaPipe</text>
                            <text x="585" y="223" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Face
                                Detection</text>
                            <text x="585" y="239" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Mouth
                                Tracking</text>
                            <text x="585" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Open/Close Detection</text>
                        </g>

                        <!-- Motion Control -->
                        <g class="component" data-component="motion-control">
                            <rect x="710" y="180" width="210" height="90" rx="8" fill="rgba(88, 28, 135, 0.3)"
                                stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                            <text x="815" y="205" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Motion Control</text>
                            <text x="815" y="223" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Inverse Kinematics</text>
                            <text x="815" y="239" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Position Calculation</text>
                            <text x="815" y="255" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Servo
                                Commands</text>
                        </g>

                        <!-- Safety Monitor -->
                        <g class="component" data-component="safety-monitor">
                            <rect x="480" y="285" width="210" height="75" rx="8" fill="rgba(127, 29, 29, 0.3)"
                                stroke="rgba(239, 68, 68, 0.6)" stroke-width="2" />
                            <text x="585" y="311" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Safety Monitor</text>
                            <text x="585" y="329" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">E-Stop Detection</text>
                            <text x="585" y="345" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Emergency Pause</text>
                        </g>

                        <!-- Serial Control -->
                        <g class="component" data-component="serial-control">
                            <rect x="710" y="285" width="210" height="75" rx="8" fill="rgba(88, 28, 135, 0.3)"
                                stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                            <text x="815" y="311" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Serial Control</text>
                            <text x="815" y="329" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">USB
                                Communication</text>
                            <text x="815" y="345" text-anchor="middle" fill="rgba(255,255,255,0.8)" font-size="11">Servo
                                Protocol</text>
                        </g>

                        <!-- Cooling Fan -->
                        <g class="component" data-component="cooling-fan">
                            <rect x="480" y="375" width="440" height="60" rx="8" fill="rgba(20, 83, 45, 0.3)"
                                stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                            <text x="700" y="399" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Cooling Fan</text>
                            <text x="700" y="419" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Thermal Management</text>
                        </g>

                        <!-- BusLinker V2.2 -->
                        <g class="component" data-component="buslinker">
                            <rect x="480" y="450" width="440" height="85" rx="8" fill="rgba(113, 63, 18, 0.4)"
                                stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                            <text x="700" y="476" text-anchor="middle" fill="#fff" font-size="15"
                                font-weight="bold">BusLinker V2.2</text>
                            <text x="700" y="494" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="12">Serial Bus Servo Control</text>
                            <text x="700" y="510" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                                font-size="11">Converts USB ‚Üí Serial Bus Protocol</text>
                            <text x="700" y="525" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Controls 4 servos</text>
                        </g>

                        <!-- OUTPUT SECTION -->
                        <g class="section-group">
                            <rect x="990" y="60" width="380" height="540" rx="12" fill="rgba(34, 197, 94, 0.08)"
                                stroke="rgba(34, 197, 94, 0.4)" stroke-width="2" />
                            <text x="1180" y="85" text-anchor="middle" fill="rgba(34, 197, 94, 1)" font-size="16"
                                font-weight="bold">OUTPUT</text>
                        </g>

                        <!-- Servo ID 0 - Base Pan -->
                        <g class="component" data-component="servo-0">
                            <rect x="1020" y="105" width="320" height="70" rx="8" fill="rgba(113, 63, 18, 0.4)"
                                stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                            <text x="1180" y="129" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Servo ID 0 - Base Pan</text>
                            <text x="1180" y="147" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">HiWonder LX-15D</text>
                            <text x="1180" y="163" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Rotational Axis - Joint 0</text>
                        </g>

                        <!-- Servo ID 1 - Shoulder -->
                        <g class="component" data-component="servo-1">
                            <rect x="1020" y="190" width="320" height="70" rx="8" fill="rgba(113, 63, 18, 0.4)"
                                stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                            <text x="1180" y="214" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Servo ID 1 - Shoulder</text>
                            <text x="1180" y="232" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">HiWonder LX-15D</text>
                            <text x="1180" y="248" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Vertical Axis - Joint 1</text>
                        </g>

                        <!-- Servo ID 2 - Elbow -->
                        <g class="component" data-component="servo-2">
                            <rect x="1020" y="275" width="320" height="70" rx="8" fill="rgba(113, 63, 18, 0.4)"
                                stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                            <text x="1180" y="299" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Servo ID 2 - Elbow</text>
                            <text x="1180" y="317" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">HiWonder LX-15D</text>
                            <text x="1180" y="333" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Vertical Axis - Joint 2</text>
                        </g>

                        <!-- Servo ID 3 - Wrist -->
                        <g class="component" data-component="servo-3">
                            <rect x="1020" y="360" width="320" height="70" rx="8" fill="rgba(113, 63, 18, 0.4)"
                                stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                            <text x="1180" y="384" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">Servo ID 3 - Wrist</text>
                            <text x="1180" y="402" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">HiWonder LX-15D</text>
                            <text x="1180" y="418" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Vertical Axis - Joint 3</text>
                        </g>

                        <!-- End Effector -->
                        <g class="component" data-component="end-effector">
                            <rect x="1020" y="445" width="320" height="80" rx="8" fill="rgba(131, 24, 67, 0.4)"
                                stroke="rgba(236, 72, 153, 0.6)" stroke-width="2" />
                            <text x="1180" y="471" text-anchor="middle" fill="#fff" font-size="14"
                                font-weight="bold">End Effector</text>
                            <text x="1180" y="489" text-anchor="middle" fill="rgba(255,255,255,0.8)"
                                font-size="11">Hybrid Spoon &amp; Fork Holder</text>
                            <text x="1180" y="505" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                                font-size="10">Quick-release mechanism</text>
                            <text x="1180" y="519" text-anchor="middle" fill="rgba(255,255,255,0.6)" font-size="10">3D
                                Printed PLA</text>
                        </g>

                        <!-- Connection Lines -->
                        <!-- Camera to Pi -->
                        <line x1="380" y1="147" x2="470" y2="135" stroke="rgba(59, 130, 246, 0.6)" stroke-width="2.5" />
                        <text x="420" y="133" fill="rgba(59, 130, 246, 0.9)" font-size="9">USB 3.0</text>

                        <!-- E-Stops to Pi -->
                        <line x1="380" y1="237" x2="470" y2="135" stroke="rgba(239, 68, 68, 0.6)" stroke-width="2" />
                        <line x1="380" y1="317" x2="470" y2="135" stroke="rgba(239, 68, 68, 0.6)" stroke-width="2" />
                        <text x="410" y="176" fill="rgba(239, 68, 68, 0.9)" font-size="9">GPIO</text>

                        <!-- Power to Pi -->
                        <line x1="380" y1="402" x2="470" y2="135" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5" />
                        <text x="420" y="302" fill="rgba(34, 197, 94, 0.9)" font-size="9">5V</text>

                        <!-- Power to BusLinker -->
                        <line x1="380" y1="402" x2="480" y2="492" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5" />
                        <text x="420" y="459" fill="rgba(34, 197, 94, 0.9)" font-size="9">9V</text>

                        <!-- Pi to BusLinker -->
                        <line x1="700" y1="165" x2="700" y2="450" stroke="rgba(168, 85, 247, 0.6)" stroke-width="2.5" />
                        <text x="706" y="445" fill="rgba(168, 85, 247, 0.9)" font-size="9">USB ‚Üí Serial</text>

                        <!-- BusLinker to Servos -->
                        <line x1="920" y1="492" x2="1020" y2="140" stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <line x1="920" y1="492" x2="1020" y2="225" stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <line x1="920" y1="492" x2="1020" y2="310" stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <line x1="920" y1="492" x2="1020" y2="395" stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <text x="955" y="230" fill="rgba(251, 191, 36, 0.9)" font-size="9">Serial Bus</text>
                    </svg>
                </div>

                <!-- Hover Info Panel -->
                <div class="hover-info-panel" id="hoverInfo">
                    <div class="hover-arrow" id="hoverArrow"></div>
                    <h4 id="componentTitle"></h4>
                    <p id="componentDescription"></p>
                    <div id="componentSpecs"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 5: Technical Details -->
    <section class="section-technical" id="technical">
        <div class="container">
            <div class="section-header">
                <span class="section-label">Technical</span>
                <h2 class="section-title single-line">Design specifications and analysis</h2>
            </div>

            <!-- Data and Energy Flow Diagram -->
            <div class="tech-block" id="data-flow">
                <h3>Data and Energy Flow</h3>

                <div class="flow-diagram">
                    <svg viewBox="0 0 1200 500" class="flow-svg">
                        <!-- Data Flow Section (Top Half) -->
                        <text x="600" y="30" text-anchor="middle" fill="rgba(139, 92, 246, 1)" font-size="18"
                            font-weight="bold">Data Flow</text>

                        <!-- Data Flow Nodes -->
                        <rect x="50" y="50" width="140" height="60" rx="8" fill="rgba(59, 130, 246, 0.2)"
                            stroke="rgba(59, 130, 246, 0.6)" stroke-width="2" />
                        <text x="120" y="75" text-anchor="middle" fill="#fff" font-size="13"
                            font-weight="bold">Camera</text>
                        <text x="120" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">30 fps
                            RGB-D</text>

                        <rect x="250" y="50" width="140" height="60" rx="8" fill="rgba(168, 85, 247, 0.2)"
                            stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                        <text x="320" y="75" text-anchor="middle" fill="#fff" font-size="13"
                            font-weight="bold">MediaPipe</text>
                        <text x="320" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">Face
                            Detection</text>

                        <rect x="450" y="50" width="140" height="60" rx="8" fill="rgba(168, 85, 247, 0.2)"
                            stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                        <text x="520" y="75" text-anchor="middle" fill="#fff" font-size="13" font-weight="bold">Motion
                            Control</text>
                        <text x="520" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">IK
                            Solver</text>

                        <rect x="650" y="50" width="140" height="60" rx="8" fill="rgba(168, 85, 247, 0.2)"
                            stroke="rgba(168, 85, 247, 0.6)" stroke-width="2" />
                        <text x="720" y="75" text-anchor="middle" fill="#fff" font-size="13" font-weight="bold">Serial
                            Control</text>
                        <text x="720" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">USB
                            Protocol</text>

                        <rect x="850" y="50" width="140" height="60" rx="8" fill="rgba(251, 191, 36, 0.2)"
                            stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <text x="920" y="75" text-anchor="middle" fill="#fff" font-size="13"
                            font-weight="bold">BusLinker</text>
                        <text x="920" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">Serial
                            Bus</text>

                        <rect x="1050" y="50" width="100" height="60" rx="8" fill="rgba(251, 191, 36, 0.2)"
                            stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <text x="1100" y="75" text-anchor="middle" fill="#fff" font-size="13"
                            font-weight="bold">Servos</text>
                        <text x="1100" y="93" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                            font-size="10">Motion</text>

                        <!-- Data Flow Arrows with Labels -->
                        <defs>
                            <marker id="arrowhead-data" markerWidth="10" markerHeight="10" refX="9" refY="3"
                                orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="rgba(139, 92, 246, 0.8)" />
                            </marker>
                        </defs>

                        <line x1="190" y1="80" x2="245" y2="80" stroke="rgba(139, 92, 246, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-data)" />
                        <text x="217" y="67" text-anchor="middle" fill="rgba(139, 92, 246, 0.9)"
                            font-size="9">Frames</text>

                        <line x1="390" y1="80" x2="445" y2="80" stroke="rgba(139, 92, 246, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-data)" />
                        <text x="417" y="67" text-anchor="middle" fill="rgba(139, 92, 246, 0.9)"
                            font-size="9">Coords</text>

                        <line x1="590" y1="80" x2="645" y2="80" stroke="rgba(139, 92, 246, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-data)" />
                        <text x="617" y="67" text-anchor="middle" fill="rgba(139, 92, 246, 0.9)"
                            font-size="9">Angles</text>

                        <line x1="790" y1="80" x2="845" y2="80" stroke="rgba(139, 92, 246, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-data)" />
                        <text x="817" y="67" text-anchor="middle" fill="rgba(139, 92, 246, 0.9)"
                            font-size="9">Commands</text>

                        <line x1="990" y1="80" x2="1045" y2="80" stroke="rgba(139, 92, 246, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-data)" />
                        <text x="1017" y="67" text-anchor="middle" fill="rgba(139, 92, 246, 0.9)"
                            font-size="9">Control</text>

                        <!-- Data Flow Rate Labels -->
                        <text x="120" y="130" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">30
                            Hz</text>
                        <text x="320" y="130" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">30
                            Hz</text>
                        <text x="520" y="130" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">100
                            Hz</text>
                        <text x="720" y="130" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">100
                            Hz</text>
                        <text x="920" y="130" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">100
                            Hz</text>

                        <!-- Divider Line -->
                        <line x1="50" y1="180" x2="1150" y2="180" stroke="rgba(255,255,255,0.2)" stroke-width="1"
                            stroke-dasharray="5,5" />

                        <!-- Energy Flow Section (Bottom Half) -->
                        <text x="600" y="220" text-anchor="middle" fill="rgba(34, 197, 94, 1)" font-size="18"
                            font-weight="bold">Energy Flow</text>

                        <!-- Energy Source -->
                        <rect x="50" y="250" width="140" height="80" rx="8" fill="rgba(34, 197, 94, 0.2)"
                            stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                        <text x="120" y="275" text-anchor="middle" fill="#fff" font-size="13" font-weight="bold">Wall
                            Power</text>
                        <text x="120" y="295" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">120V
                            AC</text>
                        <text x="120" y="313" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">~50W
                            Total</text>

                        <!-- Power Supplies -->
                        <rect x="250" y="240" width="120" height="70" rx="8" fill="rgba(34, 197, 94, 0.2)"
                            stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                        <text x="310" y="265" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">PSU
                            5V</text>
                        <text x="310" y="283" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">5V @
                            5A</text>
                        <text x="310" y="298" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">25W</text>

                        <rect x="250" y="330" width="120" height="70" rx="8" fill="rgba(34, 197, 94, 0.2)"
                            stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                        <text x="310" y="355" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">PSU
                            9V</text>
                        <text x="310" y="373" text-anchor="middle" fill="rgba(255,255,255,0.7)" font-size="10">9V @
                            3A</text>
                        <text x="310" y="388" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">27W</text>

                        <!-- Pi & Peripherals -->
                        <rect x="430" y="240" width="120" height="50" rx="8" fill="rgba(139, 92, 246, 0.2)"
                            stroke="rgba(139, 92, 246, 0.6)" stroke-width="2" />
                        <text x="490" y="261" text-anchor="middle" fill="#fff" font-size="11"
                            font-weight="bold">Raspberry Pi</text>
                        <text x="490" y="277" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                            font-size="9">3-7W</text>

                        <rect x="430" y="305" width="120" height="50" rx="8" fill="rgba(59, 130, 246, 0.2)"
                            stroke="rgba(59, 130, 246, 0.6)" stroke-width="2" />
                        <text x="490" y="326" text-anchor="middle" fill="#fff" font-size="11"
                            font-weight="bold">Camera</text>
                        <text x="490" y="342" text-anchor="middle" fill="rgba(255,255,255,0.6)"
                            font-size="9">3-5W</text>

                        <rect x="430" y="370" width="120" height="30" rx="8" fill="rgba(34, 197, 94, 0.2)"
                            stroke="rgba(34, 197, 94, 0.6)" stroke-width="2" />
                        <text x="490" y="390" text-anchor="middle" fill="#fff" font-size="10">Fan (2W)</text>

                        <!-- BusLinker & Servos -->
                        <rect x="610" y="330" width="120" height="70" rx="8" fill="rgba(251, 191, 36, 0.2)"
                            stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <text x="670" y="355" text-anchor="middle" fill="#fff" font-size="12"
                            font-weight="bold">BusLinker</text>
                        <text x="670" y="373" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                            font-size="10">Controller</text>
                        <text x="670" y="388" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">~2W</text>

                        <rect x="790" y="330" width="140" height="70" rx="8" fill="rgba(251, 191, 36, 0.2)"
                            stroke="rgba(251, 191, 36, 0.6)" stroke-width="2" />
                        <text x="860" y="355" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">4x
                            Servos</text>
                        <text x="860" y="373" text-anchor="middle" fill="rgba(255,255,255,0.7)"
                            font-size="10">15-25W</text>
                        <text x="860" y="388" text-anchor="middle" fill="rgba(255,255,255,0.5)" font-size="9">Load
                            Dependent</text>

                        <!-- Energy Flow Arrows -->
                        <defs>
                            <marker id="arrowhead-energy" markerWidth="10" markerHeight="10" refX="9" refY="3"
                                orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="rgba(34, 197, 94, 0.8)" />
                            </marker>
                        </defs>

                        <!-- Wall to PSUs -->
                        <line x1="190" y1="275" x2="245" y2="275" stroke="rgba(34, 197, 94, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-energy)" />
                        <line x1="190" y1="290" x2="245" y2="365" stroke="rgba(34, 197, 94, 0.6)" stroke-width="3"
                            marker-end="url(#arrowhead-energy)" />

                        <!-- 5V PSU to devices -->
                        <line x1="370" y1="265" x2="425" y2="265" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5"
                            marker-end="url(#arrowhead-energy)" />
                        <line x1="370" y1="275" x2="425" y2="330" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5"
                            marker-end="url(#arrowhead-energy)" />
                        <line x1="370" y1="280" x2="425" y2="385" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5"
                            marker-end="url(#arrowhead-energy)" />

                        <!-- 9V PSU to BusLinker -->
                        <line x1="370" y1="365" x2="605" y2="365" stroke="rgba(34, 197, 94, 0.6)" stroke-width="2.5"
                            marker-end="url(#arrowhead-energy)" />

                        <!-- BusLinker to Servos -->
                        <line x1="730" y1="365" x2="785" y2="365" stroke="rgba(251, 191, 36, 0.6)" stroke-width="2.5"
                            marker-end="url(#arrowhead-energy)" />

                        <!-- Power Labels -->
                        <text x="217" y="260" text-anchor="middle" fill="rgba(34, 197, 94, 0.9)" font-size="9">AC</text>
                        <text x="395" y="257" text-anchor="middle" fill="rgba(34, 197, 94, 0.9)" font-size="9">5V</text>
                        <text x="490" y="357" text-anchor="middle" fill="rgba(34, 197, 94, 0.9)" font-size="9">9V</text>
                        <text x="757" y="353" text-anchor="middle" fill="rgba(251, 191, 36, 0.9)" font-size="9">Serial
                            Bus</text>
                    </svg>
                </div>

                <div class="flow-description-compact">
                    <div class="flow-column-compact">
                        <h4>Key Points</h4>
                        <ul class="flow-list-compact">
                            <li><strong>Data Path:</strong> Camera (30Hz) ‚Üí MediaPipe ‚Üí IK Solver ‚Üí Servo Commands
                                (100Hz)</li>
                            <li><strong>Power Distribution:</strong> Dual isolated supplies (5V for computing, 9V for
                                motors)</li>
                            <li><strong>Safety Layer:</strong> E-stops monitored via GPIO provide instant shutdown</li>
                            <li><strong>Total Power:</strong> ~50W peak with all servos under load</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Electrical -->
            <div class="tech-block" id="electrical">
                <h3>Electrical Design</h3>

                <!-- Circuit Diagrams Side by Side -->
                <div class="circuits-container">
                    <!-- Detailed Circuit Diagram (Left) -->
                    <div class="circuit-detailed">
                        <h4>Detailed Schematic</h4>
                        <div class="diagram-container detailed-circuit">
                            <object data="circuit_diagram_detailed.svg" type="image/svg+xml" class="circuit-svg"
                                id="detailedCircuit">
                                <img src="circuit_diagram_detailed.svg" alt="Detailed Circuit Diagram"
                                    class="circuit-fallback">
                            </object>
                        </div>
                        <p class="diagram-caption">Complete circuit schematic with pin assignments and component
                            specifications</p>
                    </div>

                    <!-- Simplified Circuit Overview (Right) -->
                    <div class="circuit-overview">
                        <h4>System Overview</h4>
                        <div class="diagram-container simple-circuit">
                            <img src="circuit_diagram_simple.png" alt="Simplified Circuit Diagram"
                                class="circuit-image">
                        </div>
                        <p class="diagram-caption">Simplified system overview showing main electrical connections</p>
                    </div>
                </div>

                <!-- Key Components Grid -->
                <div class="components-grid">
                    <div class="component-item">
                        <strong>Microcontroller</strong>
                        <p>Raspberry Pi 4 Model B (4GB RAM)</p>
                        <p class="component-detail">Quad-core ARM Cortex-A72 @ 1.5GHz</p>
                    </div>
                    <div class="component-item">
                        <strong>Depth Camera</strong>
                        <p>Intel RealSense D435/D455</p>
                        <p class="component-detail">RGB-D at 1920√ó1080, 30fps</p>
                    </div>
                    <div class="component-item">
                        <strong>Servo Motors</strong>
                        <p>4√ó HiWonder LX-15D</p>
                        <p class="component-detail">15 kg¬∑cm torque, 240¬∞ range</p>
                    </div>
                    <div class="component-item">
                        <strong>Motor Controller</strong>
                        <p>BusLinker V2.2</p>
                        <p class="component-detail">USB to Serial Bus converter</p>
                    </div>
                    <div class="component-item">
                        <strong>Power Supply</strong>
                        <p>Dual rail: 5V @ 5A, 9V @ 3A</p>
                        <p class="component-detail">~50W total system power</p>
                    </div>
                    <div class="component-item">
                        <strong>Safety Systems</strong>
                        <p>2√ó Emergency stop buttons</p>
                        <p class="component-detail">Primary + shoulder-mounted</p>
                    </div>
                </div>

                <style>
                    /* Circuit Diagrams Container - Side by Side */
                    .circuits-container {
                        display: grid;
                        grid-template-columns: 1fr 1fr;
                        gap: 2rem;
                        margin: 2rem 0 3rem 0;
                        S
                    }

                    .circuit-overview h4,
                    .circuit-detailed h4 {
                        color: #fff;
                        margin-bottom: 1rem;
                        font-size: 1.3rem;
                    }

                    .diagram-container {
                        background:
                            linear-gradient(rgba(139, 92, 246, 0.03) 1px, transparent 1px),
                            linear-gradient(90deg, rgba(139, 92, 246, 0.03) 1px, transparent 1px),
                            rgba(15, 15, 25, 0.8);
                        background-size: 20px 20px, 20px 20px, 100% 100%;
                        border: 1px solid rgba(139, 92, 246, 0.2);
                        border-radius: 12px;
                        padding: 2rem;
                        display: flex;
                        justify-content: center;
                        align-items: center;
                        min-height: 450px;
                        position: relative;
                    }

                    /* Remove the ::before pseudo-element we added earlier */
                    .diagram-container::before {
                        display: none;
                    }

                    .circuit-image {
                        max-width: 100%;
                        height: auto;
                        display: block;
                        position: relative;
                        z-index: 1;
                    }

                    .circuit-svg {
                        width: 100%;
                        height: auto;
                        max-width: 100%;
                        position: relative;
                        z-index: 1;
                        filter: invert(1) brightness(0.9) sepia(0.3) hue-rotate(200deg);
                    }

                    .circuit-fallback {
                        max-width: 100%;
                        height: auto;
                        position: relative;
                        z-index: 1;
                        filter: invert(1) brightness(0.9) sepia(0.3) hue-rotate(200deg);
                    }

                    .diagram-caption {
                        text-align: center;
                        color: rgba(255, 255, 255, 0.6);
                        font-size: 0.9rem;
                        margin-top: 1rem;
                        font-style: italic;
                    }

                    /* Components Grid */
                    .components-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                        gap: 1.5rem;
                        margin: 2rem 0;
                    }

                    .component-item {
                        background: rgba(255, 255, 255, 0.03);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        border-radius: 8px;
                        padding: 1.5rem;
                    }

                    .component-item strong {
                        display: block;
                        color: rgba(139, 92, 246, 1);
                        font-size: 1.1rem;
                        margin-bottom: 0.5rem;
                    }

                    .component-item p {
                        color: rgba(255, 255, 255, 0.8);
                        margin: 0.25rem 0;
                        line-height: 1.6;
                    }

                    .component-detail {
                        color: rgba(255, 255, 255, 0.5) !important;
                        font-size: 0.9rem !important;
                    }

                    /* Analysis Grid */
                    .analysis-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
                        gap: 2rem;
                        margin: 2rem 0;
                    }

                    .analysis-item {
                        background: rgba(255, 255, 255, 0.03);
                        border-left: 3px solid rgba(139, 92, 246, 0.6);
                        padding: 1.5rem;
                        border-radius: 4px;
                    }

                    .analysis-item h4 {
                        color: #fff;
                        margin-bottom: 1rem;
                        font-size: 1.2rem;
                    }

                    .analysis-item p {
                        color: rgba(255, 255, 255, 0.7);
                        line-height: 1.8;
                        margin-bottom: 0.75rem;
                    }

                    .analysis-item strong {
                        color: rgba(255, 255, 255, 0.9);
                    }

                    /* Wiring Specifications */
                    .wiring-specs {
                        margin: 2rem 0;
                        background: rgba(255, 255, 255, 0.03);
                        border-radius: 12px;
                        padding: 2rem;
                    }

                    .wiring-specs h4 {
                        color: #fff;
                        margin-bottom: 1.5rem;
                        font-size: 1.3rem;
                    }

                    .connections-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 1rem;
                    }

                    .connection-item {
                        background: rgba(255, 255, 255, 0.05);
                        border: 1px solid rgba(255, 255, 255, 0.1);
                        border-radius: 6px;
                        padding: 1rem;
                        text-align: center;
                    }

                    .connection-item strong {
                        display: block;
                        color: rgba(139, 92, 246, 1);
                        font-size: 0.95rem;
                        margin-bottom: 0.5rem;
                    }

                    .connection-item p {
                        color: rgba(255, 255, 255, 0.7);
                        font-size: 0.9rem;
                        margin: 0;
                    }

                    @media (max-width: 1024px) {
                        .circuits-container {
                            grid-template-columns: 1fr;
                        }
                    }

                    @media (max-width: 768px) {
                        .diagram-container {
                            padding: 1rem;
                            min-height: 300px;
                        }

                        .components-grid {
                            grid-template-columns: 1fr;
                        }

                        .analysis-grid {
                            grid-template-columns: 1fr;
                        }

                        .connections-grid {
                            grid-template-columns: repeat(2, 1fr);
                        }
                    }
                </style>

                <script>
                    // Fix SVG colors for dark theme
                    document.addEventListener('DOMContentLoaded', function () {
                        const svgObject = document.getElementById('detailedCircuit');

                        if (svgObject) {
                            svgObject.addEventListener('load', function () {
                                try {
                                    const svgDoc = svgObject.contentDocument;
                                    if (svgDoc) {
                                        const svgElement = svgDoc.documentElement;

                                        // Make SVG background transparent
                                        const bgElements = svgDoc.querySelectorAll('rect[fill="#000000"], rect[fill="black"], rect[fill="#000"]');
                                        bgElements.forEach(el => {
                                            if (el.getAttribute('width') === '100%' || parseFloat(el.getAttribute('width')) > 1000) {
                                                el.setAttribute('fill', 'none');
                                                el.setAttribute('opacity', '0');
                                            }
                                        });

                                        // Change black lines/text to white for visibility
                                        const blackElements = svgDoc.querySelectorAll('[stroke="#000000"], [stroke="black"], [fill="#000000"], [fill="black"]');
                                        blackElements.forEach(el => {
                                            if (el.getAttribute('stroke') === '#000000' || el.getAttribute('stroke') === 'black') {
                                                el.setAttribute('stroke', '#ffffff');
                                            }
                                            if ((el.getAttribute('fill') === '#000000' || el.getAttribute('fill') === 'black') && el.tagName !== 'rect') {
                                                el.setAttribute('fill', '#ffffff');
                                            }
                                        });
                                    }
                                } catch (e) {
                                    console.log('SVG manipulation not possible due to CORS');
                                }
                            });
                        }
                    });
                </script>

                <!-- Mechanical -->
                <div class="tech-block" id="mechanical">
                    <h3>Mechanical Design</h3>

                    <!-- Featured Showcase (like software section) -->
                    <div
                        style="background: linear-gradient(135deg, rgba(20, 20, 20, 1), rgba(30, 30, 30, 1)); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 0; margin-bottom: 4rem; overflow: hidden; display: grid; grid-template-columns: 1fr 1fr;">

                        <!-- Image Side -->
                        <div
                            style="margin: 0; background: #050505; padding: 3rem; display: flex; align-items: center; justify-content: center;">
                            <img src="GoodPic.png" alt="Robotic Arm"
                                style="width: 100%; height: auto; max-width: 500px; filter: drop-shadow(0 20px 60px rgba(102, 126, 234, 0.4));">
                        </div>

                        <!-- Content Side -->
                        <div style="padding: 3rem; display: flex; flex-direction: column; justify-content: center;">
                            <div
                                style="display: inline-block; color: var(--accent); font-size: 0.85rem; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 1rem;">
                                Engineering
                            </div>
                            <h4 style="color: #fff; font-size: 2.5rem; margin-bottom: 1.5rem; line-height: 1.1;">
                                4-Degree-of-Freedom Manipulator
                            </h4>
                            <p
                                style="color: rgba(255,255,255,0.7); font-size: 1.1rem; line-height: 1.7; margin-bottom: 2rem;">
                                Custom linkage topology minimizes moment arm on the base servo for smooth, stall-free
                                operation. Built with PLA and precision bearings for durability.
                            </p>
                            <div
                                style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; margin-bottom: 2rem;">
                                <div>
                                    <div style="font-size: 2rem; font-weight: 700; color: #667eea;">850g</div>
                                    <div style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Total Weight</div>
                                </div>
                                <div>
                                    <div style="font-size: 2rem; font-weight: 700; color: #667eea;">4 DOF</div>
                                    <div style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Articulation</div>
                                </div>
                                <div>
                                    <div style="font-size: 2rem; font-weight: 700; color: #667eea;">20%</div>
                                    <div style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">PLA Infill</div>
                                </div>
                                <div>
                                    <div style="font-size: 2rem; font-weight: 700; color: #667eea;">&lt;2s</div>
                                    <div style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Tool Swap</div>
                                </div>
                            </div>
                            <a href="https://drive.google.com/drive/folders/17wvsKrLq0pKz2s5NYYXmZkd0iY5JW-Lp"
                                target="_blank"
                                style="padding: 1rem 2rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; border: none; border-radius: 50px; font-size: 1rem; font-weight: 600; cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; display: inline-flex; align-items: center; gap: 0.5rem; text-decoration: none;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                    <circle cx="8.5" cy="8.5" r="1.5"></circle>
                                    <polyline points="21 15 16 10 5 21"></polyline>
                                </svg>
                                More Pictures
                            </a>
                        </div>
                    </div>

                    <!-- Photo Slideshow -->
                    <div class="mech-slideshow-container"
                        style="position: relative; max-width: 1200px; margin: 0 auto 3rem auto; border-radius: 20px; overflow: hidden; background: linear-gradient(135deg, rgba(20, 20, 20, 1), rgba(30, 30, 30, 1)); border: 1px solid rgba(99, 102, 241, 0.3);">

                        <!-- Slides -->
                        <div class="mech-slide"
                            style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                            <img src="cable_protector.png" alt="Robotic Arm"
                                style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                            <div
                                style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Cable Protector Links</h4>
                                <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Aesthetic traingle pieces that
                                    clip into arm and protect the wiring</p>
                            </div>
                        </div>

                        <div class="mech-slides-wrapper" style="position: relative; height: 600px;">
                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="base_section_view.png" alt="Robotic Arm ISO View"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Cross Pin Shaft</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Isometric view of the base
                                        assembly with a cross pin shaft</p>
                                </div>
                            </div>

                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="Tool.png" alt="Tool Changer"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Tool Changer</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Dovetail quick-release for
                                        instant utensil swapping</p>
                                </div>
                            </div>

                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="Base.jpg" alt="Base Assembly"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Base Assembly</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">608ZZ bearings isolate
                                        servo from radial loads</p>
                                </div>
                            </div>

                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="Electronics.png" alt="Base Assembly"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Electronics Base Housing</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Electronics base housing
                                        with integrated circuitry and mounting points</p>
                                </div>
                            </div>

                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="prototype.png" alt="Base Assembly"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">First Version Prototype</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">First version mvp with
                                        cheap servos and fast prototyping</p>
                                </div>
                            </div>

                            <div class="mech-slide"
                                style="display: none; position: absolute; width: 100%; height: 100%; transition: opacity 1s ease-in-out;">
                                <img src="arm_working.png" alt="Base Assembly"
                                    style="width: 100%; height: 100%; object-fit: contain; padding: 3rem;">
                                <div
                                    style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(0,0,0,0.9), transparent); padding: 3rem 2rem 2rem 2rem; color: #fff;">
                                    <h4 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Arm Working</h4>
                                    <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Fully functional arm with
                                        all joints and camera working mid scoop</p>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Arrows -->
                        <button class="mech-prev" onclick="mechChangeslide(-1)"
                            style="position: absolute; top: 50%; left: 2rem; transform: translateY(-50%); background: rgba(99, 102, 241, 0.8); border: 2px solid rgba(99, 102, 241, 0.3); color: #fff; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10; backdrop-filter: blur(10px);">
                            ‚Äπ
                        </button>
                        <button class="mech-next" onclick="mechChangeslide(1)"
                            style="position: absolute; top: 50%; right: 2rem; transform: translateY(-50%); background: rgba(99, 102, 241, 0.8); border: 2px solid rgba(99, 102, 241, 0.3); color: #fff; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10; backdrop-filter: blur(10px);">
                            ‚Ä∫
                        </button>

                        <!-- Slide Indicators -->
                        <div
                            style="position: absolute; bottom: 2rem; left: 50%; transform: translateX(-50%); display: flex; gap: 0.5rem; z-index: 10;">
                            <span class="mech-dot" onclick="mechCurrentSlide(1)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(2)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(3)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(4)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(5)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(6)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                            <span class="mech-dot" onclick="mechCurrentSlide(7)"
                                style="width: 12px; height: 12px; border-radius: 50%; background: rgba(255,255,255,0.5); cursor: pointer; transition: all 0.3s ease;"></span>
                        </div>
                    </div>

                    <!-- 3D Model Viewer Section -->
                    <div
                        style="max-width: 1200px; margin: 0 auto 4rem auto; background: linear-gradient(135deg, rgba(20, 20, 20, 1), rgba(30, 30, 30, 1)); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 20px; padding: 3rem; position: relative;">
                        <div style="text-align: center; margin-bottom: 2rem;">
                            <div
                                style="display: inline-block; color: var(--accent); font-size: 0.85rem; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 1rem;">
                                Interactive Model</div>
                            <h4 style="color: #fff; font-size: 2rem; margin-bottom: 1rem;">Explore the 3D Model</h4>
                            <p style="color: rgba(255,255,255,0.7); font-size: 1rem;">Drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢
                                Click and drag to explore</p>
                        </div>

                        <div
                            style="width: 100%; height: 600px; border-radius: 16px; overflow: hidden; background: #0a0a0a; position: relative;">
                            <canvas id="embedded3DCanvas" style="width: 100%; height: 100%; display: block;"></canvas>
                            <div id="embedded3DLoadingText"
                                style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; font-size: 1.2rem; text-align: center; pointer-events: none;">
                                <div style="margin-bottom: 1rem;">Loading 3D Model...</div>
                                <div style="font-size: 0.9rem; color: rgba(255,255,255,0.6);">This may take a moment
                                </div>
                            </div>
                            <div id="embedded3DOverlay"
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.4); backdrop-filter: blur(2px); display: flex; align-items: center; justify-content: center; cursor: pointer; transition: opacity 0.3s ease; z-index: 10;">
                                <div style="text-align: center; pointer-events: none;">
                                    <div style="font-size: 3rem; margin-bottom: 1rem; color: rgba(99, 102, 241, 1);">üñ±Ô∏è
                                    </div>
                                    <div
                                        style="font-size: 1.5rem; font-weight: 600; color: #fff; margin-bottom: 0.5rem;">
                                        Click to Interact</div>
                                    <div style="font-size: 1rem; color: rgba(255,255,255,0.7);">Drag to rotate ‚Ä¢ Scroll
                                        to zoom</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="tech-block" id="software" style="position: relative;">
                    <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 2rem;">
                        <h3>Software Design</h3>
                        <div style="font-family: 'Courier New', monospace; font-size: 0.8rem; color: var(--accent); background: rgba(99, 102, 241, 0.1); padding: 0.5rem 1rem; border-radius: 4px; border: 1px solid rgba(99, 102, 241, 0.3); display: flex; gap: 1.5rem;"
                            id="telemetryBar">
                            <span style="display: flex; align-items: center; gap: 0.5rem;"><span
                                    style="display: block; width: 6px; height: 6px; background: #34d399; border-radius: 50%; box-shadow: 0 0 8px #34d399;"></span>
                                SYS: ONLINE</span>
                            <span>FREQ: 100Hz</span>
                            <span>THREADS: 4</span>
                        </div>
                    </div>

                    <div
                        style="background: linear-gradient(135deg, rgba(20, 20, 20, 1), rgba(30, 30, 30, 1)); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 0; margin-bottom: 4rem; position: relative; overflow: hidden; display: grid; grid-template-columns: 1fr 1fr;">

                        <div class="video-placeholder"
                            style="margin: 0; background: #050505; border-right: 1px solid rgba(255,255,255,0.1); border-radius: 20px 0 0 20px; min-height: 400px; padding: 2rem; position: relative; overflow: hidden;">

                            <video autoplay loop muted playsinline
                                style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0.6; z-index: 1;">
                                <source src="Training.mp4" type="video/mp4">
                                Your browser does not support the video tag.
                            </video>

                            <div
                                style="position: relative; z-index: 2; height: 100%; display: flex; flex-direction: column; justify-content: space-between;">
                                <div>
                                    <div style="height: 2px; background: rgba(255,255,255,0.1); width: 100%;">
                                        <div
                                            style="width: 30%; height: 100%; background: #ef4444; position: relative; animation: scrub 4s infinite linear;">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="padding: 3rem; display: flex; flex-direction: column; justify-content: center;">
                            <div
                                style="display: inline-block; color: var(--accent); font-size: 0.85rem; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 1rem;">
                                User Experience</div>
                            <h4 style="color: #fff; font-size: 2rem; margin-bottom: 1.5rem; line-height: 1.1;">
                                Teach-and-Repeat Trajectories</h4>
                            <p
                                style="color: rgba(255,255,255,0.8); font-size: 1.1rem; line-height: 1.7; margin-bottom: 1.5rem;">
                                Hard-coding specific motions for food scooping is inefficient and brittle. Instead, we
                                implemented a playback system.
                            </p>
                            <p style="color: rgba(255,255,255,0.7); font-size: 1rem; line-height: 1.7;">
                                We manually guide the arm through a scooping motion once. The system records the joint
                                states at high frequency and saves them. During operation, the robot simply replays
                                these
                                states to execute the scoop, allowing us to change the serving size or approach angle
                                without rewriting the control code.
                            </p>
                        </div>
                    </div>

                    <div
                        style="background: #0a0a0a; border: 1px solid rgba(255,255,255,0.1); border-radius: 16px; margin-bottom: 4rem; overflow: hidden;">
                        <div
                            style="background: rgba(255,255,255,0.03); padding: 1rem 2rem; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center;">
                            <div
                                style="color: var(--accent-light); font-size: 0.8rem; font-weight: bold; letter-spacing: 0.05em;">
                                FREQUENCY DECOUPLING</div>
                            <div style="font-family: monospace; font-size: 0.7rem; color: #a0aec0;">STATUS: SYNCHRONIZED
                            </div>
                        </div>

                        <div
                            style="display: grid; grid-template-columns: 1fr 200px 1fr; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <div
                                style="padding: 2rem; border-right: 1px solid rgba(255,255,255,0.05); background: #050505; position: relative;">
                                <div
                                    style="color: #a0aec0; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; display: flex; justify-content: space-between;">
                                    <span>VISION THREAD</span>
                                    <span style="color: #ef4444;">~30 Hz (Variable)</span>
                                </div>
                                <div
                                    style="height: 150px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; position: relative; overflow: hidden;">
                                    <div
                                        style="width: 12px; height: 12px; background: rgba(255,255,255,0.1); border-radius: 50%; position: absolute; top: 50%; left: 0; margin-top: -6px; animation: moveTarget 3s ease-in-out infinite alternate;">
                                    </div>
                                    <div
                                        style="width: 20px; height: 20px; border: 2px solid #ef4444; position: absolute; top: 50%; left: 0; margin-top: -10px; margin-left: -4px; animation: moveTarget 3s steps(8) infinite alternate;">
                                    </div>
                                    <div
                                        style="position: absolute; bottom: 5px; right: 5px; font-family: monospace; font-size: 0.6rem; color: #ef4444;">
                                        PROCESSING...</div>
                                </div>
                            </div>

                            <div
                                style="padding: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; background: rgba(139, 92, 246, 0.05); position: relative;">
                                <div
                                    style="width: 2px; height: 100%; background: linear-gradient(to bottom, transparent, var(--accent), transparent); position: absolute; left: 50%; opacity: 0.3;">
                                </div>
                                <div
                                    style="background: #1a1a1a; border: 1px solid var(--accent); padding: 0.5rem 1rem; border-radius: 50px; z-index: 2; box-shadow: 0 0 15px rgba(99, 102, 241, 0.4);">
                                    <span style="color: var(--accent); font-weight: 700; font-size: 0.9rem;">RQ</span>
                                </div>
                                <div
                                    style="margin-top: 1rem; font-family: monospace; font-size: 0.7rem; color: rgba(255,255,255,0.6); text-align: center;">
                                    ASYNC<br>BUFFER
                                </div>
                                <div
                                    style="position: absolute; width: 6px; height: 6px; background: #fff; border-radius: 50%; top: 20%; left: 50%; transform: translateX(-50%); animation: dropData 1s infinite linear;">
                                </div>
                            </div>

                            <div
                                style="padding: 2rem; border-left: 1px solid rgba(255,255,255,0.05); background: #050505;">
                                <div
                                    style="color: #a0aec0; font-size: 0.75rem; font-weight: 600; margin-bottom: 1rem; display: flex; justify-content: space-between;">
                                    <span>CONTROL THREAD</span>
                                    <span style="color: #34d399;">100 Hz (Fixed)</span>
                                </div>
                                <div
                                    style="height: 150px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; position: relative; overflow: hidden;">
                                    <div
                                        style="width: 12px; height: 12px; background: rgba(255,255,255,0.1); border-radius: 50%; position: absolute; top: 50%; left: 0; margin-top: -6px; animation: moveTarget 3s ease-in-out infinite alternate;">
                                    </div>
                                    <div
                                        style="width: 20px; height: 20px; border: 2px solid #34d399; border-radius: 50%; position: absolute; top: 50%; left: 0; margin-top: -10px; margin-left: -4px; animation: moveTarget 3s ease-in-out infinite alternate; box-shadow: 0 0 10px rgba(52, 211, 153, 0.4);">
                                    </div>
                                    <div
                                        style="position: absolute; bottom: 5px; right: 5px; font-family: monospace; font-size: 0.6rem; color: #34d399;">
                                        INTERPOLATING</div>
                                </div>
                            </div>
                        </div>

                        <div style="padding: 2rem; background: rgba(255,255,255,0.02);">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem;">
                                <div>
                                    <h5 style="color: #fff; font-size: 1.1rem; margin-bottom: 0.5rem;">Latency
                                        Management
                                    </h5>
                                    <p style="color: rgba(255,255,255,0.6); font-size: 0.95rem; line-height: 1.6;">
                                        Computer vision processing is heavy and inconsistent (around 30fps). If the
                                        motor
                                        controller waits for a vision frame to complete, the movement becomes jerky and
                                        unsafe.
                                    </p>
                                </div>
                                <div>
                                    <h5 style="color: var(--accent); font-size: 1.1rem; margin-bottom: 0.5rem;">Redis
                                        Queue
                                        (RQ) Implementation</h5>
                                    <p style="color: rgba(255,255,255,0.6); font-size: 0.95rem; line-height: 1.6;">
                                        We used Redis Queue to decouple the threads. The vision system pushes
                                        coordinates to
                                        the queue whenever they are ready. The control thread pulls the most recent data
                                        at
                                        a strict 100Hz loop, interpolating between points to ensure smooth motor
                                        actuation.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-bottom: 4rem;">
                        <div style="border-left: 2px solid var(--accent); padding-left: 2rem;">
                            <h4 style="color: #fff; font-size: 1.8rem; margin-bottom: 1.5rem;">Closed-Loop Control</h4>
                            <p
                                style="color: rgba(255,255,255,0.8); font-size: 1.1rem; line-height: 1.7; margin-bottom: 2rem; max-width: 900px;">
                                Standard trajectory generation struggled with depth noise from the camera. To fix this,
                                we
                                implemented a
                                <strong>gradient descent-based controller</strong>. It treats the target coordinate as a
                                minimum on an error surface and iteratively drives the end-effector towards it.
                            </p>
                        </div>
                        <div
                            style="background: rgba(10, 10, 10, 0.6); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 2rem 3rem; margin-top: 2rem; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 2rem;">
                            <div
                                style="font-family: 'Times New Roman', serif; font-size: 2rem; color: #fff; letter-spacing: 0.02em;">
                                <span style="opacity: 0.8; font-style: italic;">J</span>(<span
                                    style="font-style: italic;">q</span>)
                                <span style="color: var(--accent); font-weight: bold; font-style: italic;">qÃá</span>
                                =
                                <span style="color: #34d399; font-style: italic;">·∫ã</span>
                                +
                                <span style="opacity: 0.8;">Œª</span><span style="font-style: italic;">e</span>
                            </div>
                            <div
                                style="display: flex; gap: 2rem; font-size: 0.85rem; color: rgba(255,255,255,0.5); font-family: 'Inter', sans-serif;">
                                <div><span
                                        style="display: block; color: var(--accent); font-weight: 600; margin-bottom: 0.25rem;">qÃá
                                        (Joint Vel)</span>Output Command</div>
                                <div><span
                                        style="display: block; color: #34d399; font-weight: 600; margin-bottom: 0.25rem;">·∫ã
                                        (Task Vel)</span>Desired Motion</div>
                                <div><span
                                        style="display: block; color: #fff; font-weight: 600; margin-bottom: 0.25rem;">e
                                        (Error)</span>Error Vector</div>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; margin-bottom: 4rem;">
                        <div>
                            <h4 style="color: #fff; font-size: 1.4rem; margin-bottom: 1rem;">Live Logs</h4>
                            <div class="terminal-window"
                                style="background: #0f1117; border-radius: 8px; border: 1px solid #2d3748; box-shadow: 0 20px 40px rgba(0,0,0,0.5); font-family: 'Fira Code', 'Courier New', monospace; font-size: 0.8rem; height: 450px; display: flex; flex-direction: column;">
                                <div
                                    style="background: #1a202c; padding: 0.5rem 1rem; border-bottom: 1px solid #2d3748; color: #718096; font-size: 0.7rem;">
                                    pi@munchkin-bot:~
                                </div>
                                <div
                                    style="padding: 1rem; color: #a0aec0; overflow: hidden; position: relative; flex-grow: 1;">
                                    <div id="typewriter"
                                        style="white-space: pre-wrap; word-wrap: break-word; line-height: 1.5;"></div>
                                </div>
                            </div>
                        </div>

                        <div style="display: flex; flex-direction: column; justify-content: flex-start;">
                            <h4 style="color: #fff; font-size: 1.4rem; margin-bottom: 1.5rem;">System Logic (FSM)</h4>

                            <div style="display: grid; grid-template-columns: 40px 1fr; gap: 0; position: relative;">
                                <div
                                    style="position: absolute; left: 19px; top: 20px; bottom: 20px; width: 2px; background: rgba(255,255,255,0.1); z-index: 1;">
                                </div>

                                <div
                                    style="position: relative; height: 70px; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: #2d3748; border: 2px solid #718096; border-radius: 50%; z-index: 2; position: relative;">
                                    </div>
                                </div>
                                <div style="height: 70px;">
                                    <strong style="color: #a0aec0; display: block; margin-bottom: 0.1rem;">IDLE</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">System
                                        standby.</span>
                                </div>

                                <div
                                    style="position: relative; height: 70px; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: #2d3748; border: 2px solid var(--accent); border-radius: 50%; z-index: 2; position: relative;">
                                    </div>
                                </div>
                                <div style="height: 70px;">
                                    <strong
                                        style="color: var(--accent); display: block; margin-bottom: 0.1rem;">SCOOPING</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Executes recorded
                                        trajectory.</span>
                                </div>

                                <div
                                    style="position: relative; height: 70px; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: #2d3748; border: 2px solid #fbbf24; border-radius: 50%; z-index: 2; position: relative;">
                                    </div>
                                </div>
                                <div style="height: 70px;">
                                    <strong style="color: #fbbf24; display: block; margin-bottom: 0.1rem;">WAIT FOR OPEN
                                        MOUTH</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Scans for open mouth
                                        landmarks.</span>
                                </div>

                                <div
                                    style="position: relative; height: 70px; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: rgba(52, 211, 153, 0.2); border: 2px solid #34d399; border-radius: 50%; z-index: 2; box-shadow: 0 0 10px rgba(52, 211, 153, 0.3); position: relative;">
                                    </div>
                                </div>
                                <div style="height: 70px;">
                                    <strong
                                        style="color: #34d399; display: block; margin-bottom: 0.1rem;">TRACKING</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Servoing to mouth
                                        position.</span>
                                </div>

                                <div
                                    style="position: relative; height: 70px; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: #2d3748; border: 2px solid #ef4444; border-radius: 50%; z-index: 2; position: relative;">
                                    </div>
                                </div>
                                <div style="height: 70px;">
                                    <strong style="color: #ef4444; display: block; margin-bottom: 0.1rem;">PROXIMITY
                                        WAIT</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Triggered at <10cm
                                            distance.</span>
                                </div>

                                <div
                                    style="position: relative; height: auto; display: flex; align-items: flex-start; justify-content: center; padding-top: 5px;">
                                    <div
                                        style="width: 14px; height: 14px; background: #2d3748; border: 2px solid #718096; border-radius: 50%; z-index: 2; position: relative;">
                                    </div>
                                </div>
                                <div style="height: auto;">
                                    <strong
                                        style="color: #a0aec0; display: block; margin-bottom: 0.1rem;">RETRACT</strong>
                                    <span style="color: rgba(255,255,255,0.5); font-size: 0.85rem;">Backs off and resets
                                        to
                                        Scoop.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="border-top: 1px solid rgba(255,255,255,0.1); padding-top: 4rem;">
                        <h4 style="color: #fff; font-size: 1.4rem; margin-bottom: 2rem;">Safety Interrupts</h4>

                        <style>
                            .safety-trigger {
                                cursor: pointer;
                                transition: all 0.1s ease;
                            }

                            .safety-trigger:active {
                                transform: scale(0.98);
                                background: rgba(255, 255, 255, 0.1) !important;
                            }

                            /* The "Lit Up" State */
                            .interrupt-active {
                                background-color: #dc2626 !important;
                                /* Bright Red */
                                border-color: #fca5a5 !important;
                                box-shadow: 0 0 30px rgba(220, 38, 38, 0.6);
                                transform: scale(1.02);
                            }

                            /* Force text colors to white when active for readability */
                            .interrupt-active div,
                            .interrupt-active p,
                            .interrupt-active strong {
                                color: #ffffff !important;
                                border-color: rgba(255, 255, 255, 0.5) !important;
                                /* For the separator line */
                            }
                        </style>

                        <div
                            style="display: grid; grid-template-columns: 1fr 100px 1fr; gap: 1rem; align-items: center;">

                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <div class="safety-trigger"
                                    style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                    <span style="color: #fff; font-weight: 600;">Primary E-Stop</span>
                                    <span
                                        style="font-family: monospace; color: #a0aec0; font-size: 0.8rem;">GPIO_17</span>
                                </div>
                                <div class="safety-trigger"
                                    style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                    <span style="color: #fff; font-weight: 600;">Shoulder Stop</span>
                                    <span
                                        style="font-family: monospace; color: #a0aec0; font-size: 0.8rem;">GPIO_27</span>
                                </div>
                            </div>

                            <div style="display: flex; justify-content: center; color: rgba(255,255,255,0.2);">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M5 12h14M13 5l7 7-7 7" />
                                </svg>
                            </div>

                            <div id="interrupt-target"
                                style="background: rgba(239, 68, 68, 0.05); border: 1px solid rgba(239, 68, 68, 0.4); border-radius: 12px; padding: 1.5rem; text-align: center; transition: all 0.1s ease;">
                                <div
                                    style="color: #fca5a5; font-weight: 700; letter-spacing: 0.05em; text-transform: uppercase; margin-bottom: 0.5rem;">
                                    Hardware Interrupt</div>
                                <div style="height: 1px; background: rgba(239, 68, 68, 0.3); margin: 0.8rem 0;"></div>
                                <p style="color: rgba(255,255,255,0.8); font-size: 0.9rem; line-height: 1.5;">Bypasses
                                    main
                                    loop.<br><strong>Instant torque cut.</strong></p>
                            </div>
                        </div>
                    </div>

                    <script>
                        document.addEventListener('DOMContentLoaded', () => {
                            const triggers = document.querySelectorAll('.safety-trigger');
                            const target = document.getElementById('interrupt-target');

                            const activate = () => target.classList.add('interrupt-active');
                            const deactivate = () => target.classList.remove('interrupt-active');

                            triggers.forEach(trigger => {
                                // Mouse Events
                                trigger.addEventListener('mousedown', activate);
                                trigger.addEventListener('mouseup', deactivate);
                                trigger.addEventListener('mouseleave', deactivate);

                                // Touch Events (for mobile)
                                trigger.addEventListener('touchstart', (e) => {
                                    e.preventDefault(); // Prevents simulated mouse events
                                    activate();
                                });
                                trigger.addEventListener('touchend', deactivate);
                            });
                        });
                    </script>

                    <!-- Software Dependencies -->
                    <div style="margin: 4rem 0;">
                        <h4 style="color: #fff; font-size: 1.3rem; margin-bottom: 1.5rem; font-weight: 600;">External
                            Dependencies</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: 1rem;">
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                PyLX16a
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                MediaPipe
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                NumPy
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                RQ (Redis Queue)
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                pyrealsense2
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                OpenCV
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                Python 3.9+
                            </div>
                            <div
                                style="padding: 0.6rem 1.2rem; background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 50px; font-size: 0.9rem; color: var(--accent-light);">
                                Raspberry Pi OS
                            </div>
                        </div>
                    </div>

                    <div class="code-link">
                        <a href="https://www.github.com/Dh-Van/Munchkin" class="btn-primary">
                            <span>View Source Code</span>
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                                <path d="M4 10H16M16 10L11 5M16 10L11 15" stroke="currentColor" stroke-width="2" />
                            </svg>
                        </a>
                        <p class="code-note">Full repository includes kinematics solver, FSM implementation, and
                            multithreading logic.</p>
                    </div>
                </div>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const textElement = document.getElementById('typewriter');
                    const telemetry = document.getElementById('telemetryBar');
                    if (window.innerWidth > 768) { telemetry.style.display = 'flex'; }

                    const lines = [
                        // SYSTEM BOOT
                        { text: "> initializing munchkin_core...", color: "#718096" },
                        { text: "[INFO] BusLinker connected on /dev/ttyUSB0", color: "#a0aec0" },
                        { text: "[INFO] Realsense D435 stream started (30fps)", color: "#a0aec0" },
                        { text: "[SUCCESS] Motor controller online. Voltage: 12.4V", color: "#34d399" },
                        { text: "> starting main_control_loop.py", color: "#6366f1" },
                        { text: "----------------------------------------", color: "#4a5568" },

                        // STATE 1: IDLE
                        { text: "STATE: IDLE", color: "#718096" }, // Grey
                        { text: "waiting for user trigger...", color: "#4a5568" },
                        { text: "> TRIGGER RECEIVED (Voice Cmd)", color: "#fff" },

                        // STATE 2: SCOOPING
                        { text: "STATE: SCOOPING", color: "#6366f1" }, // Purple
                        { text: "[TRAJ] Loading 'scoop_v3.csv'...", color: "#a0aec0" },
                        { text: "[TRAJ] Executing 145 waypoints...", color: "#a0aec0" },
                        { text: "[SUCCESS] Scoop complete.", color: "#34d399" },

                        // STATE 3: WAIT FOR MOUTH
                        { text: "STATE: WAIT_FOR_MOUTH", color: "#fbbf24" }, // Yellow
                        { text: "[VIS] Searching for landmarks...", color: "#a0aec0" },
                        { text: "[VIS] Face found. Mouth Aspect Ratio: 0.05 (CLOSED)", color: "#a0aec0" },
                        { text: "[VIS] Mouth Aspect Ratio: 0.12 (CLOSED)", color: "#a0aec0" },
                        { text: "[VIS] Mouth Aspect Ratio: 0.65 (OPEN)", color: "#34d399" },

                        // STATE 4: TRACKING
                        { text: "STATE: TRACKING", color: "#34d399" }, // Green
                        { text: "[RQ] Vision Lag: 32ms | Control Loop: 10ms", color: "#a0aec0" },
                        { text: "[SERVO] dX: 45mm, dY: -12mm | Correction vector applied", color: "#a0aec0" },
                        { text: "[SERVO] Error: 2.1mm (CONVERGED)", color: "#34d399" },

                        // STATE 5: PROXIMITY WAIT
                        { text: "STATE: PROXIMITY_WAIT", color: "#ef4444" }, // Red
                        { text: "[DIST] Range: 15.2cm", color: "#a0aec0" },
                        { text: "[DIST] Range: 8.9cm (THRESHOLD_REACHED)", color: "#ef4444" },
                        { text: "> Holding for 2.0s...", color: "#a0aec0" },

                        // STATE 6: RETRACT
                        { text: "STATE: RETRACT", color: "#a0aec0" }, // Grey
                        { text: "> Backing off safety buffer...", color: "#a0aec0" },
                        { text: "> Resetting to home position.", color: "#a0aec0" }
                    ];

                    let lineIndex = 0; let charIndex = 0;
                    function typeLine() {
                        if (lineIndex < lines.length) {
                            const currentLine = lines[lineIndex];
                            if (charIndex === 0) {
                                const div = document.createElement('div');
                                div.style.color = currentLine.color;
                                div.style.marginBottom = '4px';
                                div.id = `line-${lineIndex}`;
                                textElement.appendChild(div);
                            }
                            const currentDiv = document.getElementById(`line-${lineIndex}`);
                            currentDiv.textContent += currentLine.text.charAt(charIndex);
                            charIndex++;
                            if (charIndex < currentLine.text.length) {
                                setTimeout(typeLine, Math.random() * 10 + 5); // Typing speed
                            } else {
                                lineIndex++; charIndex = 0;
                                const terminalWindow = textElement.parentElement;
                                terminalWindow.scrollTop = terminalWindow.scrollHeight;
                                // Pause longer after state changes for realism
                                const delay = currentLine.text.includes("STATE:") ? 800 : 150;
                                setTimeout(typeLine, delay);
                            }
                        } else {
                            setTimeout(() => { textElement.innerHTML = ''; lineIndex = 0; charIndex = 0; typeLine(); }, 5000);
                        }
                    }
                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => { if (entry.isIntersecting && textElement.innerHTML === '') typeLine(); });
                    });
                    observer.observe(document.getElementById('software'));
                });
            </script>

            <style>
                @keyframes pulse {
                    0% {
                        transform: scale(1);
                        opacity: 1;
                    }

                    50% {
                        transform: scale(1.5);
                        opacity: 0.5;
                    }

                    100% {
                        transform: scale(1);
                        opacity: 1;
                    }
                }

                @keyframes blink {

                    0%,
                    100% {
                        opacity: 1;
                    }

                    50% {
                        opacity: 0.3;
                    }
                }

                @keyframes scrub {
                    0% {
                        width: 0%;
                    }

                    100% {
                        width: 100%;
                    }
                }

                @keyframes moveTarget {
                    0% {
                        left: 10%;
                    }

                    100% {
                        left: 90%;
                    }
                }

                @keyframes dropData {
                    0% {
                        top: -10px;
                        opacity: 1;
                    }

                    100% {
                        top: 100%;
                        opacity: 0;
                    }
                }
            </style>

        </div>


        <!-- ADD MEDIAPIPE LIBRARIES -->
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh"></script>
        <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils"></script>

        <!-- ADD ALL THE CSS -->
        <style>
            /* Process Section - Decision Cards */
            .decisions-grid {
                display: flex;
                flex-direction: column;
                gap: 3rem;
                /* <--- CHANGE THIS VALUE */
                margin: 3rem 0;
            }

            .decision-card {
                background: rgba(255, 255, 255, 0.02);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 16px;
                padding: 2.5rem;
                /* <--- CHANGE THIS VALUE */
                margin: 0 !important;
            }

            .decision-card:has(.decision-showcase) {
                display: grid;
                grid-template-columns: 1.2fr 0.8fr;
                gap: 2rem;
                /* <--- CHANGE THIS VALUE */
                align-items: start;
            }

            .decision-content {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
            }

            .decision-number {
                font-size: 3rem;
                font-weight: 700;
                color: rgba(139, 92, 246, 0.4);
                line-height: 1;
                letter-spacing: -0.02em;
            }

            .decision-card h3 {
                color: #fff;
                font-size: 2rem;
                margin: 0;
                line-height: 1.2;
            }

            .decision-details {
                display: flex;
                flex-direction: column;
                gap: 1.5rem;
            }

            .detail-item {
                padding-left: 1rem;
                border-left: 2px solid rgba(139, 92, 246, 0.3);
            }

            .detail-item strong {
                display: block;
                color: rgba(139, 92, 246, 1);
                font-size: 0.85rem;
                letter-spacing: 0.05em;
                margin-bottom: 0.5rem;
            }

            .detail-item p {
                color: rgba(255, 255, 255, 0.75);
                line-height: 1.7;
                margin: 0;
            }

            /* Showcase Area */
            .decision-showcase {
                position: sticky;
                top: 120px;
                height: fit-content;
            }

            .showcase-content {
                background: rgba(255, 255, 255, 0.03);
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 12px;
                padding: 1.5rem;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1rem;
                min-height: 300px;
                justify-content: center;
            }

            /* Live Demo Styles */
            .live-demo {
                position: relative;
                background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(59, 130, 246, 0.05));
            }

            .demo-placeholder {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 1rem;
                text-align: center;
            }

            .demo-icon {
                font-size: 3rem;
            }

            .demo-placeholder p {
                color: rgba(255, 255, 255, 0.7);
                margin: 0;
            }

            .demo-hint {
                font-size: 0.85rem;
                color: rgba(139, 92, 246, 0.8);
                font-style: italic;
            }

            .demo-button {
                background: rgba(139, 92, 246, 1);
                color: white;
                border: none;
                padding: 0.75rem 2rem;
                border-radius: 8px;
                font-size: 1rem;
                font-weight: 600;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .demo-button:hover {
                background: rgba(168, 85, 247, 1);
                transform: translateY(-2px);
            }

            .demo-video {
                width: 100%;
                height: auto;
                border-radius: 8px;
                display: none;
                position: relative;
            }

            .demo-video-container {
                position: relative;
                width: 100%;
                display: none;
            }

            .live-demo.active .demo-video-container {
                display: block;
            }

            .demo-canvas {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                border-radius: 8px;
                display: none;
                pointer-events: none;
            }

            .live-demo.active .demo-placeholder {
                display: none;
            }

            .live-demo.active .demo-video,
            .live-demo.active .demo-canvas {
                display: block;
            }

            .demo-stop {
                display: none;
                background: rgba(239, 68, 68, 0.9);
                color: white;
                border: none;
                padding: 0.5rem 1.5rem;
                border-radius: 6px;
                font-size: 0.9rem;
                cursor: pointer;
                margin-top: 0.5rem;
            }

            .live-demo.active .demo-stop {
                display: block;
            }

            /* System Diagram */
            .interactive-diagram-wrapper {
                position: relative;
                width: 100%;
                background: #0a0a0a;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                overflow: visible;
                margin: 2rem 0 1rem 0;
                padding: 1rem;
            }

            .system-diagram {
                width: 100%;
                height: auto;
                display: block;
            }

            .component {
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .component:hover rect {
                filter: brightness(1.4);
                stroke-width: 3;
            }

            .hover-info-panel {
                position: fixed;
                background: rgba(10, 10, 10, 0.98);
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-radius: 12px;
                padding: 1.25rem;
                backdrop-filter: blur(10px);
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.2s ease;
                max-width: 400px;
                z-index: 10000;
                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);
            }

            .hover-info-panel.active {
                opacity: 1;
                pointer-events: auto;
            }

            .hover-arrow {
                position: absolute;
                width: 12px;
                height: 12px;
                background: rgba(10, 10, 10, 0.98);
                transform: rotate(45deg);
                left: 50%;
                margin-left: -6px;
            }

            .hover-arrow.arrow-top {
                border-right: 2px solid rgba(255, 255, 255, 0.3);
                border-bottom: 2px solid rgba(255, 255, 255, 0.3);
                bottom: -7px;
            }

            .hover-arrow.arrow-bottom {
                border-left: 2px solid rgba(255, 255, 255, 0.3);
                border-top: 2px solid rgba(255, 255, 255, 0.3);
                top: -7px;
            }

            .hover-info-panel h4 {
                color: #fff;
                margin: 0 0 0.5rem 0;
                font-size: 1.1rem;
            }

            .hover-info-panel p {
                color: rgba(255, 255, 255, 0.8);
                margin: 0 0 0.75rem 0;
                line-height: 1.6;
                font-size: 0.95rem;
            }

            .hover-info-panel #componentSpecs {
                color: rgba(255, 255, 255, 0.7);
                font-size: 0.85rem;
                line-height: 1.7;
            }

            .hover-info-panel #componentSpecs strong {
                color: rgba(255, 255, 255, 0.9);
            }

            /* Flow Diagram */
            .flow-diagram {
                background: #0a0a0a;
                border-radius: 12px;
                border: 1px solid rgba(255, 255, 255, 0.1);
                padding: 2rem;
                margin: 2rem 0;
            }

            .flow-svg {
                width: 100%;
                height: auto;
                display: block;
            }

            .flow-description-compact {
                margin-top: 1.5rem;
            }

            .flow-column-compact h4 {
                color: #fff;
                margin-bottom: 1rem;
                font-size: 1.1rem;
            }

            .flow-list-compact {
                list-style: none;
                padding: 0;
                line-height: 1.8;
                color: rgba(255, 255, 255, 0.8);
            }

            .flow-list-compact li {
                margin-bottom: 0.75rem;
                padding-left: 1.5rem;
                position: relative;
            }

            .flow-list-compact li:before {
                content: "‚Üí";
                position: absolute;
                left: 0;
                color: rgba(139, 92, 246, 0.8);
            }

            .flow-list-compact strong {
                color: rgba(255, 255, 255, 0.95);
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .decision-card:has(.decision-showcase) {
                    grid-template-columns: 1fr;
                }

                .decision-showcase {
                    position: static;
                }
            }

            @media (max-width: 768px) {
                .decision-card {
                    padding: 1.5rem;
                }

                .decision-number {
                    font-size: 2rem;
                }

                .decision-card h3 {
                    font-size: 1.5rem;
                }

                .hover-info-panel {
                    max-width: 300px;
                    padding: 1rem;
                }

                .flow-diagram {
                    padding: 1rem;
                }
            }
        </style>

        <!-- ADD ALL THE JAVASCRIPT -->
        <script>
            // Component data with detailed specifications
            const componentData = {
                'realsense': {
                    title: 'Intel RealSense Depth Camera',
                    description: 'RGB-D camera providing real-time depth sensing and color imaging for face detection and mouth tracking.',
                    specs: '<strong>Resolution:</strong> 1920√ó1080 RGB, 1280√ó720 Depth<br><strong>Frame Rate:</strong> 30 fps<br><strong>Range:</strong> 0.3m - 3m<br><strong>Interface:</strong> USB 3.0<br><strong>Power:</strong> 3-5W'
                },
                'estop-primary': {
                    title: 'Emergency Stop (Primary)',
                    description: 'Main emergency stop button for immediate system shutdown. Hard-wired to Raspberry Pi GPIO for instant response.',
                    specs: '<strong>Type:</strong> Push-button E-Stop<br><strong>Connection:</strong> GPIO (pull-down resistor)<br><strong>Response Time:</strong> <10ms'
                },
                'estop-shoulder': {
                    title: 'Emergency Stop (Shoulder Mount)',
                    description: 'Secondary emergency stop mounted on shoulder harness for hands-free accessibility and redundancy.',
                    specs: '<strong>Type:</strong> Push-button E-Stop<br><strong>Connection:</strong> Pluggable GPIO<br><strong>Response Time:</strong> <10ms'
                },
                'power-5v': {
                    title: '5V Power Supply',
                    description: 'Dedicated 5V power rail for computing components. Isolated from motor power to prevent noise interference.',
                    specs: '<strong>Output:</strong> 5V @ 5A (25W)<br><strong>Powers:</strong> Raspberry Pi, Camera, Fan'
                },
                'power-9v': {
                    title: '9V Power Supply',
                    description: 'Dedicated 9V power rail for servo motors. Isolated from computing components for reliability.',
                    specs: '<strong>Output:</strong> 9V @ 3A (27W)<br><strong>Powers:</strong> BusLinker, 4x Servos'
                },
                'power-switch': {
                    title: 'Power Switch',
                    description: 'Physical switch controlling power to the BusLinker and servo system. Allows motor shutdown while keeping Pi active.',
                    specs: '<strong>Type:</strong> Toggle switch<br><strong>Rating:</strong> 9V 3A'
                },
                'raspberry-pi': {
                    title: 'Raspberry Pi 4 Model B',
                    description: 'Main processing unit running computer vision, motion control, safety monitoring, and servo communication.',
                    specs: '<strong>CPU:</strong> Quad-core ARM Cortex-A72 @ 1.5GHz<br><strong>RAM:</strong> 4GB LPDDR4<br><strong>Power:</strong> 5V @ 3A'
                },
                'mediapipe': {
                    title: 'MediaPipe Face Mesh',
                    description: 'Real-time face detection and 468-point facial landmark tracking for precise mouth position detection.',
                    specs: '<strong>Framework:</strong> Google MediaPipe<br><strong>Landmarks:</strong> 468 facial points<br><strong>Processing Rate:</strong> 30 fps'
                },
                'motion-control': {
                    title: 'Motion Control System',
                    description: 'Inverse kinematics solver converting mouth coordinates to servo angles for smooth, precise arm movement.',
                    specs: '<strong>Algorithm:</strong> Analytical IK solver<br><strong>DOF:</strong> 4 degrees of freedom<br><strong>Update Rate:</strong> 100 Hz'
                },
                'safety-monitor': {
                    title: 'Safety Monitor',
                    description: 'Continuously monitors emergency stop buttons via GPIO and triggers immediate system shutdown on activation.',
                    specs: '<strong>Inputs:</strong> 2x E-Stop buttons<br><strong>Polling Rate:</strong> 1000 Hz<br><strong>Response Time:</strong> <10ms'
                },
                'serial-control': {
                    title: 'Serial Control Interface',
                    description: 'Handles USB to serial bus communication with BusLinker, sending servo position commands at high frequency.',
                    specs: '<strong>Protocol:</strong> LX-15D Serial Bus<br><strong>Baud Rate:</strong> 115200<br><strong>Update Rate:</strong> 100 Hz'
                },
                'cooling-fan': {
                    title: 'Cooling Fan',
                    description: 'Active cooling system maintaining Raspberry Pi temperature below 65¬∞C during continuous operation.',
                    specs: '<strong>Size:</strong> 40mm √ó 40mm<br><strong>Voltage:</strong> 5V DC<br><strong>Power:</strong> ~2W'
                },
                'buslinker': {
                    title: 'BusLinker V2.2 Serial Bus Controller',
                    description: 'USB to Serial Bus converter enabling Raspberry Pi to control multiple LX-15D servos via daisy-chained communication.',
                    specs: '<strong>Inputs:</strong> USB 2.0 from Pi<br><strong>Outputs:</strong> Serial Bus (4 channels)<br><strong>Protocol:</strong> LX-15D Serial Bus'
                },
                'servo-0': {
                    title: 'Servo ID 0 - Base Pan (Joint 0)',
                    description: 'Base rotation servo providing 360¬∞ panning motion for horizontal positioning of the arm.',
                    specs: '<strong>Model:</strong> HiWonder LX-15D<br><strong>Torque:</strong> 15 kg¬∑cm @ 9V<br><strong>Range:</strong> 240¬∞'
                },
                'servo-1': {
                    title: 'Servo ID 1 - Shoulder (Joint 1)',
                    description: 'Shoulder servo controlling vertical angle of the first arm segment for height adjustment.',
                    specs: '<strong>Model:</strong> HiWonder LX-15D<br><strong>Torque:</strong> 15 kg¬∑cm @ 9V<br><strong>Range:</strong> 240¬∞'
                },
                'servo-2': {
                    title: 'Servo ID 2 - Elbow (Joint 2)',
                    description: 'Elbow servo controlling vertical angle of the second arm segment for reach extension.',
                    specs: '<strong>Model:</strong> HiWonder LX-15D<br><strong>Torque:</strong> 15 kg¬∑cm @ 9V<br><strong>Range:</strong> 240¬∞'
                },
                'servo-3': {
                    title: 'Servo ID 3 - Wrist (Joint 3)',
                    description: 'Wrist servo controlling final vertical positioning and tilt angle of the end effector.',
                    specs: '<strong>Model:</strong> HiWonder LX-15D<br><strong>Torque:</strong> 15 kg¬∑cm @ 9V<br><strong>Range:</strong> 240¬∞'
                },
                'end-effector': {
                    title: 'End Effector - Hybrid Utensil Holder',
                    description: 'Custom-designed holder accommodating both spoons and forks with quick-release mechanism for easy utensil swapping.',
                    specs: '<strong>Material:</strong> 3D printed PLA<br><strong>Design:</strong> Hybrid spoon/fork holder<br><strong>Release:</strong> Spring-loaded'
                }
            };

            // Hover functionality for system diagram
            const components = document.querySelectorAll('.component');
            const hoverInfo = document.getElementById('hoverInfo');
            const hoverArrow = document.getElementById('hoverArrow');
            const componentTitle = document.getElementById('componentTitle');
            const componentDescription = document.getElementById('componentDescription');
            const componentSpecs = document.getElementById('componentSpecs');

            components.forEach(component => {
                component.addEventListener('mouseenter', function (e) {
                    const componentId = this.getAttribute('data-component');
                    const data = componentData[componentId];

                    if (data) {
                        componentTitle.textContent = data.title;
                        componentDescription.textContent = data.description;
                        componentSpecs.innerHTML = data.specs;

                        hoverInfo.classList.add('active');
                        updateTooltipPosition(e);
                    }
                });

                component.addEventListener('mousemove', function (e) {
                    updateTooltipPosition(e);
                });

                component.addEventListener('mouseleave', function () {
                    hoverInfo.classList.remove('active');
                });
            });

            function updateTooltipPosition(e) {
                const rect = e.target.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                const tooltipX = rect.left + rect.width / 2;

                const estimatedTooltipHeight = 350;
                const spaceAbove = rect.top;
                const spaceBelow = windowHeight - rect.bottom;

                let tooltipY;
                let arrowClass;

                if (spaceAbove > estimatedTooltipHeight && spaceAbove > spaceBelow) {
                    tooltipY = rect.top - 10;
                    hoverInfo.style.transform = 'translate(-50%, -100%)';
                    arrowClass = 'arrow-top';
                } else {
                    tooltipY = rect.bottom + 10;
                    hoverInfo.style.transform = 'translate(-50%, 0)';
                    arrowClass = 'arrow-bottom';
                }

                hoverInfo.style.left = tooltipX + 'px';
                hoverInfo.style.top = tooltipY + 'px';
                hoverArrow.className = 'hover-arrow ' + arrowClass;
            }

            // MediaPipe Live Demo - FULLY FIXED VERSION
            let demoInitialized = false;

            document.addEventListener('DOMContentLoaded', () => {
                const demoContainer = document.getElementById('mediapipeDemo');
                const startBtn = document.getElementById('startDemoBtn');
                const stopBtn = document.getElementById('stopDemoBtn');
                const video = document.getElementById('demoVideo');
                const canvas = document.getElementById('demoCanvas');
                const ctx = canvas.getContext('2d');

                let camera = null;
                let faceMesh = null;
                let stream = null;

                startBtn.addEventListener('click', async () => {
                    if (demoInitialized) return;

                    try {
                        stream = await navigator.mediaDevices.getUserMedia({
                            video: {
                                width: { ideal: 640 },
                                height: { ideal: 480 },
                                facingMode: 'user'
                            }
                        });

                        video.srcObject = stream;
                        demoInitialized = true;
                        demoContainer.classList.add('active');

                        await new Promise((resolve) => {
                            video.onloadedmetadata = () => {
                                video.play();
                                resolve();
                            };
                        });

                        canvas.width = video.videoWidth;
                        canvas.height = video.videoHeight;

                        faceMesh = new FaceMesh({
                            locateFile: (file) => {
                                return `https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${file}`;
                            }
                        });

                        faceMesh.setOptions({
                            maxNumFaces: 1,
                            refineLandmarks: true,
                            minDetectionConfidence: 0.5,
                            minTrackingConfidence: 0.5
                        });

                        faceMesh.onResults(onResults);
                        processFrame();

                    } catch (error) {
                        console.error('Camera error:', error);
                        alert('Camera access denied. Please allow camera access and refresh the page.');
                        demoInitialized = false;
                    }
                });

                async function processFrame() {
                    if (!demoInitialized) return;

                    if (video.readyState === video.HAVE_ENOUGH_DATA) {
                        await faceMesh.send({ image: video });
                    }

                    requestAnimationFrame(processFrame);
                }

                stopBtn.addEventListener('click', () => {
                    stopDemo();
                });

                function stopDemo() {
                    demoInitialized = false;

                    if (stream) {
                        stream.getTracks().forEach(track => track.stop());
                        stream = null;
                    }

                    if (video.srcObject) {
                        video.srcObject = null;
                    }

                    if (faceMesh) {
                        faceMesh.close();
                        faceMesh = null;
                    }

                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    demoContainer.classList.remove('active');
                }

                function onResults(results) {
                    if (!demoInitialized) return;

                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;

                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    if (results.multiFaceLandmarks && results.multiFaceLandmarks.length > 0) {
                        const landmarks = results.multiFaceLandmarks[0];

                        ctx.strokeStyle = 'rgba(139, 92, 246, 0.2)';
                        ctx.lineWidth = 1;

                        const LIPS = [
                            [61, 146, 91, 181, 84, 17, 314, 405, 321, 375, 291],
                            [78, 191, 80, 81, 82, 13, 312, 311, 310, 415, 308]
                        ];

                        LIPS.forEach(lipLine => {
                            ctx.beginPath();
                            lipLine.forEach((idx, i) => {
                                const point = landmarks[idx];
                                const x = point.x * canvas.width;
                                const y = point.y * canvas.height;
                                if (i === 0) {
                                    ctx.moveTo(x, y);
                                } else {
                                    ctx.lineTo(x, y);
                                }
                            });
                            ctx.closePath();
                            ctx.stroke();
                        });

                        const mouthKeyPoints = [61, 291, 0, 17];
                        ctx.fillStyle = 'rgba(59, 130, 246, 0.8)';

                        mouthKeyPoints.forEach(index => {
                            const landmark = landmarks[index];
                            ctx.beginPath();
                            ctx.arc(
                                landmark.x * canvas.width,
                                landmark.y * canvas.height,
                                4,
                                0,
                                2 * Math.PI
                            );
                            ctx.fill();
                        });

                        // Use THE EXACT SAME CALCULATION AS THE REAL ARM
                        // Landmark 13 = top lip, Landmark 14 = bottom lip
                        const topLip = landmarks[13];
                        const bottomLip = landmarks[14];

                        // Simple average - EXACTLY like the arm code
                        const mouthCenterX = (topLip.x + bottomLip.x) / 2;
                        const mouthCenterY = (topLip.y + bottomLip.y) / 2;

                        ctx.fillStyle = 'rgba(34, 197, 94, 1)';
                        ctx.strokeStyle = 'rgba(34, 197, 94, 1)';
                        ctx.lineWidth = 2;

                        const centerX = mouthCenterX * canvas.width;
                        const centerY = mouthCenterY * canvas.height;
                        const size = 8;

                        ctx.beginPath();
                        ctx.arc(centerX, centerY, 6, 0, 2 * Math.PI);
                        ctx.fill();

                        ctx.beginPath();
                        ctx.moveTo(centerX - size, centerY);
                        ctx.lineTo(centerX + size, centerY);
                        ctx.moveTo(centerX, centerY - size);
                        ctx.lineTo(centerX, centerY + size);
                        ctx.stroke();

                        ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                        ctx.font = 'bold 13px sans-serif';
                        ctx.fillText('Mouth Target', centerX + 15, centerY - 10);
                    }
                }
            });
        </script>

        <!-- Section 6: Budget -->
        <section class="section-budget" id="budget">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Budget</span>
                    <h2 class="section-title">Bill of materials</h2>
                    <p class="section-subtitle">Project cost breakdown. All costs are shown even if items were obtained
                        for free.</p>
                </div>

                <div class="bom-table-wrapper">
                    <table class="bom-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Qty</th>
                                <th>Cost</th>
                                <th>Source</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="category-row">
                                <td colspan="4">Computing & Vision</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">Raspberry
                                        Pi 4B</a></td>
                                <td>1</td>
                                <td>$62.39</td>
                                <td>Found</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">Intel
                                        RealSense Camera</a></td>
                                <td>1</td>
                                <td>$314.00</td>
                                <td>Found</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4">Motors & Control</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">5
                                        Servos and Control Board</a></td>
                                <td>1</td>
                                <td>$95.61</td>
                                <td>Bought</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">Thrust
                                        Bearing 2-1/4 inch</a></td>
                                <td>1</td>
                                <td>$13.82</td>
                                <td>Bought</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4">Electronics & Connections</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">Push
                                        Down Button</a></td>
                                <td>1</td>
                                <td>$8.12</td>
                                <td>Found</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">E-Stop</a>
                                </td>
                                <td>1</td>
                                <td>$6.99</td>
                                <td>Found</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">USB
                                        - USB C Cable Low Profile</a></td>
                                <td>1</td>
                                <td>$10.61</td>
                                <td>Bought</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">90
                                        Degree USB C Adapter 2pck</a></td>
                                <td>1</td>
                                <td>$5.09</td>
                                <td>Bought</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">USB
                                        C Extender 1ft</a></td>
                                <td>1</td>
                                <td>$8.49</td>
                                <td>Bought</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">4
                                        Pack USB Fans</a></td>
                                <td>1</td>
                                <td>$8.81</td>
                                <td>Bought</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4">Mechanical Components</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">eSUN
                                        White PLA Filament</a></td>
                                <td>1</td>
                                <td>$11.99</td>
                                <td>Bought</td>
                            </tr>
                            <tr>
                                <td><a href="#" target="_blank"
                                        style="color: var(--accent); text-decoration: none; transition: color 0.3s;">M2
                                        Screws Pack</a></td>
                                <td>1</td>
                                <td>$9.55</td>
                                <td>Bought</td>
                            </tr>

                            <tr class="category-row">
                                <td colspan="4">Miscellaneous</td>
                            </tr>
                            <tr>
                                <td>Other MISC estimated cost (wires, connectors, 2x shaft bearings, power adapters,
                                    screws)</td>
                                <td>1</td>
                                <td>$40.00</td>
                                <td>Found</td>
                            </tr>

                            <tr class="total-row">
                                <td colspan="2">Total Budget Spent (Bought Items)</td>
                                <td>$163.97</td>
                                <td></td>
                            </tr>
                            <tr class="total-row">
                                <td colspan="2">Total Including Found Items</td>
                                <td>$595.47</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section 7: Team -->
        <section class="section-team" id="contact">
            <div class="container">
                <div class="section-header">
                    <span class="section-label">Team</span>
                    <h2 class="section-title">Meet the makers</h2>
                </div>

                <div class="team-content">
                    <!-- Team Members - Single Row -->
                    <div class="team-members-row">
                        <a href="https://www.linkedin.com/in/kilanrou" target="_blank" class="team-member-card">
                            <div class="member-photo">
                                <img src="kilan.jpg" alt="Kilan Rougeot">
                            </div>
                            <h3>Kilan Rougeot</h3>
                            <div class="member-hover-card">
                                <p class="member-bio">Passionate about robotics and human-computer interaction. Led the
                                    team through mechanical design and system integration.</p>
                                <div class="member-links">
                                    <a href="https://www.linkedin.com/in/kilanrou" target="_blank"
                                        class="link-btn linkedin-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                            </path>
                                            <rect x="2" y="9" width="4" height="12"></rect>
                                            <circle cx="4" cy="4" r="2"></circle>
                                        </svg>
                                        LinkedIn
                                    </a>
                                    <a href="#" target="_blank" class="link-btn portfolio-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71">
                                            </path>
                                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71">
                                            </path>
                                        </svg>
                                        Portfolio
                                    </a>
                                </div>
                            </div>
                        </a>

                        <a href="https://www.linkedin.com/in/dhvan-shah-325289277/" target="_blank"
                            class="team-member-card">
                            <div class="member-photo">
                                <img src="dhvan.jpg" alt="Dhvan Shah">
                            </div>
                            <h3>Dhvan Shah</h3>
                            <div class="member-hover-card">
                                <p class="member-bio">Hardware engineer specializing in embedded systems and power
                                    electronics. Designed the electrical architecture.</p>
                                <div class="member-links">
                                    <a href="https://www.linkedin.com/in/dhvan-shah-325289277/" target="_blank"
                                        class="link-btn linkedin-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                            </path>
                                            <rect x="2" y="9" width="4" height="12"></rect>
                                            <circle cx="4" cy="4" r="2"></circle>
                                        </svg>
                                        LinkedIn
                                    </a>
                                    <a href="#" target="_blank" class="link-btn portfolio-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71">
                                            </path>
                                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71">
                                            </path>
                                        </svg>
                                        Portfolio
                                    </a>
                                </div>
                            </div>
                        </a>

                        <a href="https://www.linkedin.com/in/jillian-golde-a44918366/" target="_blank"
                            class="team-member-card">
                            <div class="member-photo">
                                <img src="jillian.jpg" alt="Jillian Golde">
                            </div>
                            <h3>Jillian Golde</h3>
                            <div class="member-hover-card">
                                <p class="member-bio">Software developer focused on computer vision and ML. Implemented
                                    the MediaPipe tracking system and motion control.</p>
                                <div class="member-links">
                                    <a href="https://www.linkedin.com/in/jillian-golde-a44918366/" target="_blank"
                                        class="link-btn linkedin-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                            </path>
                                            <rect x="2" y="9" width="4" height="12"></rect>
                                            <circle cx="4" cy="4" r="2"></circle>
                                        </svg>
                                        LinkedIn
                                    </a>
                                    <a href="#" target="_blank" class="link-btn portfolio-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71">
                                            </path>
                                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71">
                                            </path>
                                        </svg>
                                        Portfolio
                                    </a>
                                </div>
                            </div>
                        </a>

                        <a href="https://www.linkedin.com/in/shanna-deivanayagam/" target="_blank"
                            class="team-member-card">
                            <div class="member-photo">
                                <img src="shanna.jpg" alt="Shanna Deivan...">
                            </div>
                            <h3>Shanna <Deivan class=""></Deivan>
                            </h3>
                            <div class="member-hover-card">
                                <p class="member-bio">Mechanical engineer with expertise in CAD and rapid prototyping.
                                    Designed and 3D printed the robotic arm components.</p>
                                <div class="member-links">
                                    <a href="https://www.linkedin.com/in/shanna-deivanayagam/" target="_blank"
                                        class="link-btn linkedin-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                            </path>
                                            <rect x="2" y="9" width="4" height="12"></rect>
                                            <circle cx="4" cy="4" r="2"></circle>
                                        </svg>
                                        LinkedIn
                                    </a>
                                    <a href="#" target="_blank" class="link-btn portfolio-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71">
                                            </path>
                                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71">
                                            </path>
                                        </svg>
                                        Portfolio
                                    </a>
                                </div>
                            </div>
                        </a>

                        <a href="https://www.linkedin.com/in/zachary-wolter/" target="_blank" class="team-member-card">
                            <div class="member-photo">
                                <img src="zach.jpg" alt="Zachary Wolter">
                            </div>
                            <h3>Zachary Wolter</h3>
                            <div class="member-hover-card">
                                <p class="member-bio">Systems engineer coordinating hardware-software integration.
                                    Focused on safety systems and servo control protocols.</p>
                                <div class="member-links">
                                    <a href="https://www.linkedin.com/in/zachary-wolter/" target="_blank"
                                        class="link-btn linkedin-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                            </path>
                                            <rect x="2" y="9" width="4" height="12"></rect>
                                            <circle cx="4" cy="4" r="2"></circle>
                                        </svg>
                                        LinkedIn
                                    </a>
                                    <a href="#" target="_blank" class="link-btn portfolio-link">
                                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71">
                                            </path>
                                            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71">
                                            </path>
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </a>
                    </div>

                    <!-- Acknowledgments -->
                    <div class="acknowledgments">
                        <h3>Acknowledgments</h3>
                        <p>We would like to thank the PIE teaching team for guidance and support, Olin College for
                            facility and equipment access, and all the mentors who helped make this project possible.
                        </p>
                    </div>

                    <!-- Future Work -->
                    <div class="future-work">
                        <h3>Future Improvements</h3>
                        <div class="improvements-grid">
                            <div class="improvement-card">
                                <span class="improvement-number">01</span>
                                <div class="improvement-content">
                                    <h4>Multiple Food Selection</h4>
                                    <p>Implement a vision system that can identify food and accept inputs to allow users to select between different food items during a meal</p>
                                </div>
                            </div>
                            <div class="improvement-card">
                                <span class="improvement-number">02</span>
                                <div class="improvement-content">
                                    <h4>Voice Control Interface</h4>
                                    <p>Add voice commands for hands-free control of feeding speed, utensil selection,
                                        and emergency stop</p>
                                </div>
                            </div>
                            <div class="improvement-card">
                                <span class="improvement-number">03</span>
                                <div class="improvement-content">
                                    <h4>Enhanced Safety Sensors</h4>
                                    <p>Integrate force sensors and proximity detection for collision avoidance and
                                        gentler feeding motions</p>
                                </div>
                            </div>
                            <div class="improvement-card">
                                <span class="improvement-number">04</span>
                                <div class="improvement-content">
                                    <h4>Portable Power System</h4>
                                    <p>In addition to wall power add a rechargeable battery pack for true portability and
                                        outdoor use</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ADD THIS CSS -->
        <style>
            /* Team Members - Single Horizontal Row */
            .team-members-row {
                display: flex;
                justify-content: center;
                gap: 2rem;
                margin: 3rem 0 4rem 0;
                flex-wrap: nowrap;
                overflow-x: auto;
                padding: 1rem 0 2rem 0;
            }

            .team-member-card {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                text-decoration: none;
                transition: transform 0.3s ease;
                cursor: pointer;
                flex-shrink: 0;
            }

            .team-member-card:hover {
                transform: translateY(-10px);
            }

            .member-photo {
                position: relative;
                width: 180px;
                height: 180px;
                border-radius: 50%;
                overflow: hidden;
                border: 3px solid rgba(139, 92, 246, 0.3);
                transition: all 0.3s ease;
                margin-bottom: 1rem;
            }

            .team-member-card:hover .member-photo {
                border-color: rgba(139, 92, 246, 1);
                box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
            }

            .member-photo img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }

            .team-member-card:hover .member-photo img {
                transform: scale(1.1);
            }

            .team-member-card h3 {
                color: #fff;
                font-size: 1.2rem;
                margin: 0;
                text-align: center;
                max-width: 180px;
            }

            /* Hover Card */
            .member-hover-card {
                position: absolute;
                top: 100%;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(10, 10, 10, 0.98);
                border: 2px solid rgba(139, 92, 246, 0.6);
                border-radius: 12px;
                padding: 1.5rem;
                width: 280px;
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.3s ease, transform 0.3s ease;
                z-index: 100;
                margin-top: 1rem;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            }

            .team-member-card:hover .member-hover-card {
                opacity: 1;
                pointer-events: auto;
                transform: translateX(-50%) translateY(10px);
            }

            .member-bio {
                color: rgba(255, 255, 255, 0.8);
                font-size: 0.9rem;
                line-height: 1.5;
                margin: 0 0 1rem 0;
                text-align: left;
            }

            .member-links {
                display: flex;
                flex-direction: column;
                gap: 0.5rem;
            }

            .link-btn {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                padding: 0.5rem 1rem;
                background: rgba(139, 92, 246, 0.1);
                border: 1px solid rgba(139, 92, 246, 0.3);
                border-radius: 6px;
                color: rgba(139, 92, 246, 0.9);
                text-decoration: none;
                font-size: 0.9rem;
                transition: all 0.2s ease;
            }

            .link-btn:hover {
                background: rgba(139, 92, 246, 0.2);
                border-color: rgba(139, 92, 246, 0.6);
                color: rgba(168, 85, 247, 1);
                transform: translateX(5px);
            }

            .link-btn svg {
                flex-shrink: 0;
            }

            /* Prevent clicking through to LinkedIn on the hover card links */
            .member-hover-card a {
                position: relative;
                z-index: 101;
            }

            .member-hover-card a:hover {
                z-index: 102;
            }

            /* Future Work */
            .future-work {
                margin-top: 4rem;
            }

            .future-work h3 {
                color: #fff;
                font-size: 2rem;
                margin-bottom: 2rem;
                text-align: center;
            }

            .improvements-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .improvement-card:hover {
                background: rgba(255, 255, 255, 0.04);
                border-color: rgba(139, 92, 246, 0.4);
                transform: translateY(-5px);
            }

            .improvement-number {
                font-size: 2.5rem;
                font-weight: 700;
                color: rgba(139, 92, 246, 0.6);
                line-height: 1;
                min-width: 60px;
            }

            .improvement-content h4 {
                color: #fff;
                font-size: 1.3rem;
                margin: 0 0 0.5rem 0;
            }

            .improvement-content p {
                color: rgba(255, 255, 255, 0.7);
                line-height: 1.6;
                margin: 0;
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .team-members-row {
                    flex-wrap: wrap;
                    justify-content: center;
                }

                .member-hover-card {
                    position: fixed;
                    left: 50% !important;
                    top: 50% !important;
                    transform: translate(-50%, -50%) !important;
                }

                .improvements-grid {
                    grid-template-columns: 1fr;
                }
            }

            @media (max-width: 768px) {
                .team-members-row {
                    gap: 1.5rem;
                }

                .member-photo {
                    width: 140px;
                    height: 140px;
                }

                .team-member-card h3 {
                    font-size: 1rem;
                    max-width: 140px;
                }

                .member-hover-card {
                    width: 90vw;
                    max-width: 300px;
                }

                .improvement-card {
                    flex-direction: column;
                    gap: 1rem;
                }

                .improvement-number {
                    font-size: 2rem;
                }
            }
        </style>

        <!-- ADD THIS CSS -->
        <style>
            /* Team Members Grid */
            .team-members-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 3rem;
                margin: 3rem 0 4rem 0;
            }

            /* Make last row centered with 2 members */
            .team-members-grid .team-member-card:nth-child(n+4) {
                grid-column: span 1;
            }

            .team-members-grid .team-member-card:nth-child(4) {
                grid-column-start: 2;
            }

            .team-member-card {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-decoration: none;
                transition: transform 0.3s ease;
                cursor: pointer;
            }

            .team-member-card:hover {
                transform: translateY(-10px);
            }

            .member-photo {
                position: relative;
                width: 200px;
                height: 200px;
                border-radius: 50%;
                overflow: hidden;
                border: 3px solid rgba(139, 92, 246, 0.3);
                transition: all 0.3s ease;
                margin-bottom: 1.5rem;
            }

            .team-member-card:hover .member-photo {
                border-color: rgba(139, 92, 246, 1);
                box-shadow: 0 10px 30px rgba(139, 92, 246, 0.3);
            }

            .member-photo img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                transition: transform 0.3s ease;
            }

            .team-member-card:hover .member-photo img {
                transform: scale(1.1);
            }

            .linkedin-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(139, 92, 246, 0.9);
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transition: opacity 0.3s ease;
            }

            .team-member-card:hover .linkedin-overlay {
                opacity: 1;
            }

            .linkedin-overlay svg {
                color: white;
                width: 48px;
                height: 48px;
            }

            .team-member-card h3 {
                color: #fff;
                font-size: 1.5rem;
                margin: 0;
                text-align: center;
            }

            /* Acknowledgments */
            .acknowledgments {
                background: rgba(0, 0, 0, 1);
                border-left: 4px solid rgba(139, 92, 246, 0.6);
                padding: 2rem 2.5rem;
                border-radius: 8px;
                margin: 4rem 0 3rem 0;
            }

            .acknowledgments h3 {
                color: #fff;
                font-size: 1.8rem;
                margin: 0 0 1rem 0;
            }

            .acknowledgments p {
                color: rgba(255, 255, 255, 0.8);
                line-height: 1.8;
                font-size: 1.1rem;
                margin: 0;
            }

            /* Future Work */
            .future-work {
                margin-top: 4rem;
            }

            .future-work h3 {
                color: #fff;
                font-size: 2rem;
                margin-bottom: 2rem;
                text-align: center;
            }

            .improvements-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }

            .improvement-card:hover {
                background: rgba(255, 255, 255, 0.04);
                border-color: rgba(139, 92, 246, 0.4);
                transform: translateY(-5px);
            }

            .improvement-number {
                font-size: 2.5rem;
                font-weight: 700;
                color: rgba(139, 92, 246, 0.6);
                line-height: 1;
                min-width: 60px;
            }

            .improvement-content h4 {
                color: #fff;
                font-size: 1.3rem;
                margin: 0 0 0.5rem 0;
            }

            .improvement-content p {
                color: rgba(255, 255, 255, 0.7);
                line-height: 1.6;
                margin: 0;
            }

            /* Responsive */
            @media (max-width: 1024px) {
                .team-members-grid {
                    grid-template-columns: repeat(2, 1fr);
                }

                .team-members-grid .team-member-card:nth-child(4),
                .team-members-grid .team-member-card:nth-child(5) {
                    grid-column: auto;
                }

                .improvements-grid {
                    grid-template-columns: 1fr;
                }
            }

            @media (max-width: 768px) {
                .team-members-grid {
                    grid-template-columns: 1fr;
                    gap: 2rem;
                }

                .member-photo {
                    width: 160px;
                    height: 160px;
                }

                .improvement-number {
                    font-size: 2rem;
                }
            }
        </style>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-brand">
                        <div class="footer-logo">MUNCHKIN.</div>
                        <p>Assistive Feeding Device</p>
                    </div>
                    <div class="footer-links">
                        <a href="https://olincollege.github.io/pie-2025-03/">All PIE Projects</a>
                        <a href="https://www.github.com/Dh-Van/Munchkin">GitHub Repository</a>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>PIE Project ¬© 2025 ‚Äî Olin College of Engineering</p>
                </div>
            </div>
        </footer>

        <!-- 3D Model Viewer Modal -->
        <div id="model3DModal"
            style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); z-index: 9999; align-items: center; justify-content: center;">
            <button id="closeModalBtn"
                style="position: absolute; top: 2rem; right: 2rem; background: rgba(255, 255, 255, 0.1); border: 2px solid rgba(255, 255, 255, 0.3); color: #fff; width: 50px; height: 50px; border-radius: 50%; font-size: 1.5rem; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease; z-index: 10000;">
                ‚úï
            </button>
            <div style="width: 90%; height: 90%; max-width: 1200px; max-height: 800px; position: relative;">
                <canvas id="model3DCanvas" style="width: 100%; height: 100%; border-radius: 20px;"></canvas>
                <div id="modelLoadingText"
                    style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; font-size: 1.2rem; text-align: center;">
                    <div style="margin-bottom: 1rem;">Loading 3D Model...</div>
                    <div style="font-size: 0.9rem; color: rgba(255,255,255,0.6);">Drag to rotate ‚Ä¢ Scroll to zoom</div>
                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
        <script src="main.js"></script>
</body>

</html>